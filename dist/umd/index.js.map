{"version":3,"file":"index.js","sources":["../../src/icons/ControlKeyIcon.tsx","../../src/icons/SearchIcon.tsx","../../src/DocSearchButton.tsx","../../node_modules/@algolia/autocomplete-shared/dist/esm/flatten.js","../../node_modules/@algolia/autocomplete-shared/dist/esm/generateAutocompleteId.js","../../node_modules/@algolia/autocomplete-shared/dist/esm/getItemsCount.js","../../node_modules/@algolia/autocomplete-shared/dist/esm/noop.js","../../node_modules/@algolia/autocomplete-shared/dist/esm/userAgents.js","../../node_modules/@algolia/autocomplete-shared/dist/esm/version.js","../../node_modules/@algolia/autocomplete-core/dist/esm/utils/createCancelablePromise.js","../../node_modules/@algolia/autocomplete-core/dist/esm/utils/getNextActiveItemId.js","../../node_modules/@algolia/autocomplete-core/dist/esm/utils/getNormalizedSources.js","../../node_modules/@algolia/autocomplete-core/dist/esm/utils/getActiveItem.js","../../node_modules/@algolia/autocomplete-core/dist/esm/utils/isSamsung.js","../../node_modules/@algolia/autocomplete-core/dist/esm/utils/mapToAlgoliaResponse.js","../../node_modules/@algolia/autocomplete-core/dist/esm/createStore.js","../../node_modules/@algolia/autocomplete-core/dist/esm/utils/createCancelablePromiseList.js","../../node_modules/@algolia/autocomplete-core/dist/esm/getAutocompleteSetters.js","../../node_modules/@algolia/autocomplete-core/dist/esm/getDefaultProps.js","../../node_modules/@algolia/autocomplete-core/dist/esm/reshape.js","../../node_modules/@algolia/autocomplete-core/dist/esm/resolve.js","../../node_modules/@algolia/autocomplete-core/dist/esm/onInput.js","../../node_modules/@algolia/autocomplete-core/dist/esm/utils/createConcurrentSafePromise.js","../../node_modules/@algolia/autocomplete-core/dist/esm/onKeyDown.js","../../node_modules/@algolia/autocomplete-core/dist/esm/getPropGetters.js","../../node_modules/@algolia/autocomplete-core/dist/esm/utils/isOrContainsNode.js","../../node_modules/@algolia/autocomplete-core/dist/esm/metadata.js","../../node_modules/@algolia/autocomplete-core/dist/esm/getCompletion.js","../../node_modules/@algolia/autocomplete-core/dist/esm/stateReducer.js","../../node_modules/@algolia/autocomplete-core/dist/esm/createAutocomplete.js","../../src/Footer.tsx","../../src/Hit.tsx","../../src/icons/LoadingIcon.tsx","../../src/icons/RecentIcon.tsx","../../src/icons/ResetIcon.tsx","../../src/icons/SelectIcon.tsx","../../src/icons/SourceIcon.tsx","../../src/icons/StarIcon.tsx","../../src/icons/ErrorIcon.tsx","../../src/icons/NoResultsIcon.tsx","../../src/ErrorScreen.tsx","../../src/NoResultsScreen.tsx","../../src/Snippet.tsx","../../src/Results.tsx","../../src/utils/identity.ts","../../src/utils/noop.ts","../../src/utils/removeHighlightTags.ts","../../src/ResultsScreen.tsx","../../src/StartScreen.tsx","../../src/ScreenState.tsx","../../src/SearchBox.tsx","../../src/constants.ts","../../src/stored-searches.ts","../../src/DocSearchModal.tsx","../../src/useTouchEvents.ts","../../src/useTrapFocus.ts","../../src/useDocSearchKeyboardEvents.ts","../../src/DocSearch.tsx","../../src/version.ts"],"sourcesContent":["import React from 'react';\n\nexport function ControlKeyIcon() {\n  return (\n    <svg width=\"15\" height=\"15\" className=\"DocSearch-Control-Key-Icon\">\n      <path\n        d=\"M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953\"\n        strokeWidth=\"1.2\"\n        stroke=\"currentColor\"\n        fill=\"none\"\n        strokeLinecap=\"square\"\n      />\n    </svg>\n  );\n}\n","import React from 'react';\n\nexport function SearchIcon() {\n  return (\n    <svg\n      width=\"20\"\n      height=\"20\"\n      className=\"DocSearch-Search-Icon\"\n      viewBox=\"0 0 20 20\"\n    >\n      <path\n        d=\"M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z\"\n        stroke=\"currentColor\"\n        fill=\"none\"\n        fillRule=\"evenodd\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </svg>\n  );\n}\n","import React, { useMemo } from 'react';\n\nimport { ControlKeyIcon } from './icons/ControlKeyIcon';\nimport { SearchIcon } from './icons/SearchIcon';\n\nexport type ButtonTranslations = Partial<{\n  buttonText: string;\n  buttonAriaLabel: string;\n}>;\n\nexport type DocSearchButtonProps = React.ComponentProps<'button'> & {\n  translations?: ButtonTranslations;\n};\n\nconst ACTION_KEY_DEFAULT = 'Ctrl' as const;\nconst ACTION_KEY_APPLE = '⌘' as const;\n\nfunction isAppleDevice() {\n  return /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform);\n}\n\nexport const DocSearchButton = React.forwardRef<\n  HTMLButtonElement,\n  DocSearchButtonProps\n>(({ translations = {}, ...props }, ref) => {\n  const { buttonText = 'Search', buttonAriaLabel = 'Search' } = translations;\n\n  const key = useMemo<\n    typeof ACTION_KEY_APPLE | typeof ACTION_KEY_DEFAULT | null\n  >(() => {\n    if (typeof navigator !== 'undefined') {\n      return isAppleDevice() ? ACTION_KEY_APPLE : ACTION_KEY_DEFAULT;\n    }\n    return null;\n  }, []);\n\n  return (\n    <button\n      type=\"button\"\n      className=\"DocSearch DocSearch-Button\"\n      aria-label={buttonAriaLabel}\n      {...props}\n      ref={ref}\n    >\n      <span className=\"DocSearch-Button-Container\">\n        <SearchIcon />\n        <span className=\"DocSearch-Button-Placeholder\">{buttonText}</span>\n      </span>\n\n      <span className=\"DocSearch-Button-Keys\">\n        {key !== null && (\n          <>\n            <kbd className=\"DocSearch-Button-Key\">\n              {key === ACTION_KEY_DEFAULT ? <ControlKeyIcon /> : key}\n            </kbd>\n            <kbd className=\"DocSearch-Button-Key\">K</kbd>\n          </>\n        )}\n      </span>\n    </button>\n  );\n});\n","export function flatten(values) {\n  return values.reduce(function (a, b) {\n    return a.concat(b);\n  }, []);\n}","var autocompleteId = 0;\nexport function generateAutocompleteId() {\n  return \"autocomplete-\".concat(autocompleteId++);\n}","export function getItemsCount(state) {\n  if (state.collections.length === 0) {\n    return 0;\n  }\n\n  return state.collections.reduce(function (sum, collection) {\n    return sum + collection.items.length;\n  }, 0);\n}","export var noop = function noop() {};","import { version } from './version';\nexport var userAgents = [{\n  segment: 'autocomplete-core',\n  version: version\n}];","export var version = '1.6.2';","function createInternalCancelablePromise(promise, initialState) {\n  var state = initialState;\n  return {\n    then: function then(onfulfilled, onrejected) {\n      return createInternalCancelablePromise(promise.then(createCallback(onfulfilled, state, promise), createCallback(onrejected, state, promise)), state);\n    },\n    catch: function _catch(onrejected) {\n      return createInternalCancelablePromise(promise.catch(createCallback(onrejected, state, promise)), state);\n    },\n    finally: function _finally(onfinally) {\n      if (onfinally) {\n        state.onCancelList.push(onfinally);\n      }\n\n      return createInternalCancelablePromise(promise.finally(createCallback(onfinally && function () {\n        state.onCancelList = [];\n        return onfinally();\n      }, state, promise)), state);\n    },\n    cancel: function cancel() {\n      state.isCanceled = true;\n      var callbacks = state.onCancelList;\n      state.onCancelList = [];\n      callbacks.forEach(function (callback) {\n        callback();\n      });\n    },\n    isCanceled: function isCanceled() {\n      return state.isCanceled === true;\n    }\n  };\n}\n\nexport function createCancelablePromise(executor) {\n  return createInternalCancelablePromise(new Promise(function (resolve, reject) {\n    return executor(resolve, reject);\n  }), {\n    isCanceled: false,\n    onCancelList: []\n  });\n}\n\ncreateCancelablePromise.resolve = function (value) {\n  return cancelable(Promise.resolve(value));\n};\n\ncreateCancelablePromise.reject = function (reason) {\n  return cancelable(Promise.reject(reason));\n};\n\nexport function cancelable(promise) {\n  return createInternalCancelablePromise(promise, {\n    isCanceled: false,\n    onCancelList: []\n  });\n}\n\nfunction createCallback(onResult, state, fallback) {\n  if (!onResult) {\n    return fallback;\n  }\n\n  return function callback(arg) {\n    if (state.isCanceled) {\n      return arg;\n    }\n\n    return onResult(arg);\n  };\n}","/**\n * Returns the next active item ID from the current state.\n *\n * We allow circular keyboard navigation from the base index.\n * The base index can either be `null` (nothing is highlighted) or `0`\n * (the first item is highlighted).\n * The base index is allowed to get assigned `null` only if\n * `props.defaultActiveItemId` is `null`. This pattern allows to \"stop\"\n * by the actual query before navigating to other suggestions as seen on\n * Google or Amazon.\n *\n * @param moveAmount The offset to increment (or decrement) the last index\n * @param baseIndex The current index to compute the next index from\n * @param itemCount The number of items\n * @param defaultActiveItemId The default active index to fallback to\n */\nexport function getNextActiveItemId(moveAmount, baseIndex, itemCount, defaultActiveItemId) {\n  if (!itemCount) {\n    return null;\n  }\n\n  if (moveAmount < 0 && (baseIndex === null || defaultActiveItemId !== null && baseIndex === 0)) {\n    return itemCount + moveAmount;\n  }\n\n  var numericIndex = (baseIndex === null ? -1 : baseIndex) + moveAmount;\n\n  if (numericIndex <= -1 || numericIndex >= itemCount) {\n    return defaultActiveItemId === null ? null : 0;\n  }\n\n  return numericIndex;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nimport { invariant, decycle, noop } from '@algolia/autocomplete-shared';\nexport function getNormalizedSources(getSources, params) {\n  var seenSourceIds = [];\n  return Promise.resolve(getSources(params)).then(function (sources) {\n    invariant(Array.isArray(sources), function () {\n      return \"The `getSources` function must return an array of sources but returned type \".concat(JSON.stringify(_typeof(sources)), \":\\n\\n\").concat(JSON.stringify(decycle(sources), null, 2));\n    });\n    return Promise.all(sources // We allow `undefined` and `false` sources to allow users to use\n    // `Boolean(query) && source` (=> `false`).\n    // We need to remove these values at this point.\n    .filter(function (maybeSource) {\n      return Boolean(maybeSource);\n    }).map(function (source) {\n      invariant(typeof source.sourceId === 'string', 'A source must provide a `sourceId` string.');\n\n      if (seenSourceIds.includes(source.sourceId)) {\n        throw new Error(\"[Autocomplete] The `sourceId` \".concat(JSON.stringify(source.sourceId), \" is not unique.\"));\n      }\n\n      seenSourceIds.push(source.sourceId);\n\n      var normalizedSource = _objectSpread({\n        getItemInputValue: function getItemInputValue(_ref) {\n          var state = _ref.state;\n          return state.query;\n        },\n        getItemUrl: function getItemUrl() {\n          return undefined;\n        },\n        onSelect: function onSelect(_ref2) {\n          var setIsOpen = _ref2.setIsOpen;\n          setIsOpen(false);\n        },\n        onActive: noop\n      }, source);\n\n      return Promise.resolve(normalizedSource);\n    }));\n  });\n}","// We don't have access to the autocomplete source when we call `onKeyDown`\n// or `onClick` because those are native browser events.\n// However, we can get the source from the suggestion index.\nfunction getCollectionFromActiveItemId(state) {\n  // Given 3 sources with respectively 1, 2 and 3 suggestions: [1, 2, 3]\n  // We want to get the accumulated counts:\n  // [1, 1 + 2, 1 + 2 + 3] = [1, 3, 3 + 3] = [1, 3, 6]\n  var accumulatedCollectionsCount = state.collections.map(function (collections) {\n    return collections.items.length;\n  }).reduce(function (acc, collectionsCount, index) {\n    var previousValue = acc[index - 1] || 0;\n    var nextValue = previousValue + collectionsCount;\n    acc.push(nextValue);\n    return acc;\n  }, []); // Based on the accumulated counts, we can infer the index of the suggestion.\n\n  var collectionIndex = accumulatedCollectionsCount.reduce(function (acc, current) {\n    if (current <= state.activeItemId) {\n      return acc + 1;\n    }\n\n    return acc;\n  }, 0);\n  return state.collections[collectionIndex];\n}\n/**\n * Gets the highlighted index relative to a suggestion object (not the absolute\n * highlighted index).\n *\n * Example:\n *  [['a', 'b'], ['c', 'd', 'e'], ['f']]\n *                      ↑\n *         (absolute: 3, relative: 1)\n */\n\n\nfunction getRelativeActiveItemId(_ref) {\n  var state = _ref.state,\n      collection = _ref.collection;\n  var isOffsetFound = false;\n  var counter = 0;\n  var previousItemsOffset = 0;\n\n  while (isOffsetFound === false) {\n    var currentCollection = state.collections[counter];\n\n    if (currentCollection === collection) {\n      isOffsetFound = true;\n      break;\n    }\n\n    previousItemsOffset += currentCollection.items.length;\n    counter++;\n  }\n\n  return state.activeItemId - previousItemsOffset;\n}\n\nexport function getActiveItem(state) {\n  var collection = getCollectionFromActiveItemId(state);\n\n  if (!collection) {\n    return null;\n  }\n\n  var item = collection.items[getRelativeActiveItemId({\n    state: state,\n    collection: collection\n  })];\n  var source = collection.source;\n  var itemInputValue = source.getItemInputValue({\n    item: item,\n    state: state\n  });\n  var itemUrl = source.getItemUrl({\n    item: item,\n    state: state\n  });\n  return {\n    item: item,\n    itemInputValue: itemInputValue,\n    itemUrl: itemUrl,\n    source: source\n  };\n}","var regex = /((gt|sm)-|galaxy nexus)|samsung[- ]/i;\nexport function isSamsung(userAgent) {\n  return Boolean(userAgent && userAgent.match(regex));\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport function mapToAlgoliaResponse(rawResults) {\n  var results = rawResults.map(function (result) {\n    var _hits;\n\n    return _objectSpread(_objectSpread({}, result), {}, {\n      hits: (_hits = result.hits) === null || _hits === void 0 ? void 0 : _hits.map(function (hit) {\n        // Bring support for the Insights plugin.\n        return _objectSpread(_objectSpread({}, hit), {}, {\n          __autocomplete_indexName: result.index,\n          __autocomplete_queryID: result.queryID\n        });\n      })\n    });\n  });\n  return {\n    results: results,\n    hits: results.map(function (result) {\n      return result.hits;\n    }).filter(Boolean),\n    facetHits: results.map(function (result) {\n      var _facetHits;\n\n      return (_facetHits = result.facetHits) === null || _facetHits === void 0 ? void 0 : _facetHits.map(function (facetHit) {\n        // Bring support for the highlighting components.\n        return {\n          label: facetHit.value,\n          count: facetHit.count,\n          _highlightResult: {\n            label: {\n              value: facetHit.highlighted\n            }\n          }\n        };\n      });\n    }).filter(Boolean)\n  };\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { createCancelablePromiseList } from './utils';\nexport function createStore(reducer, props, onStoreStateChange) {\n  var state = props.initialState;\n  return {\n    getState: function getState() {\n      return state;\n    },\n    dispatch: function dispatch(action, payload) {\n      var prevState = _objectSpread({}, state);\n\n      state = reducer(state, {\n        type: action,\n        props: props,\n        payload: payload\n      });\n      onStoreStateChange({\n        state: state,\n        prevState: prevState\n      });\n    },\n    pendingRequests: createCancelablePromiseList()\n  };\n}","export function createCancelablePromiseList() {\n  var list = [];\n  return {\n    add: function add(cancelablePromise) {\n      list.push(cancelablePromise);\n      return cancelablePromise.finally(function () {\n        list = list.filter(function (item) {\n          return item !== cancelablePromise;\n        });\n      });\n    },\n    cancelAll: function cancelAll() {\n      list.forEach(function (promise) {\n        return promise.cancel();\n      });\n    },\n    isEmpty: function isEmpty() {\n      return list.length === 0;\n    }\n  };\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { flatten } from '@algolia/autocomplete-shared';\nexport function getAutocompleteSetters(_ref) {\n  var store = _ref.store;\n\n  var setActiveItemId = function setActiveItemId(value) {\n    store.dispatch('setActiveItemId', value);\n  };\n\n  var setQuery = function setQuery(value) {\n    store.dispatch('setQuery', value);\n  };\n\n  var setCollections = function setCollections(rawValue) {\n    var baseItemId = 0;\n    var value = rawValue.map(function (collection) {\n      return _objectSpread(_objectSpread({}, collection), {}, {\n        // We flatten the stored items to support calling `getAlgoliaResults`\n        // from the source itself.\n        items: flatten(collection.items).map(function (item) {\n          return _objectSpread(_objectSpread({}, item), {}, {\n            __autocomplete_id: baseItemId++\n          });\n        })\n      });\n    });\n    store.dispatch('setCollections', value);\n  };\n\n  var setIsOpen = function setIsOpen(value) {\n    store.dispatch('setIsOpen', value);\n  };\n\n  var setStatus = function setStatus(value) {\n    store.dispatch('setStatus', value);\n  };\n\n  var setContext = function setContext(value) {\n    store.dispatch('setContext', value);\n  };\n\n  return {\n    setActiveItemId: setActiveItemId,\n    setQuery: setQuery,\n    setCollections: setCollections,\n    setIsOpen: setIsOpen,\n    setStatus: setStatus,\n    setContext: setContext\n  };\n}","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { getItemsCount, generateAutocompleteId, flatten } from '@algolia/autocomplete-shared';\nimport { getNormalizedSources } from './utils';\nexport function getDefaultProps(props, pluginSubscribers) {\n  var _props$id;\n\n  /* eslint-disable no-restricted-globals */\n  var environment = typeof window !== 'undefined' ? window : {};\n  /* eslint-enable no-restricted-globals */\n\n  var plugins = props.plugins || [];\n  return _objectSpread(_objectSpread({\n    debug: false,\n    openOnFocus: false,\n    placeholder: '',\n    autoFocus: false,\n    defaultActiveItemId: null,\n    stallThreshold: 300,\n    environment: environment,\n    shouldPanelOpen: function shouldPanelOpen(_ref) {\n      var state = _ref.state;\n      return getItemsCount(state) > 0;\n    },\n    reshape: function reshape(_ref2) {\n      var sources = _ref2.sources;\n      return sources;\n    }\n  }, props), {}, {\n    // Since `generateAutocompleteId` triggers a side effect (it increments\n    // an internal counter), we don't want to execute it if unnecessary.\n    id: (_props$id = props.id) !== null && _props$id !== void 0 ? _props$id : generateAutocompleteId(),\n    plugins: plugins,\n    // The following props need to be deeply defaulted.\n    initialState: _objectSpread({\n      activeItemId: null,\n      query: '',\n      completion: null,\n      collections: [],\n      isOpen: false,\n      status: 'idle',\n      context: {}\n    }, props.initialState),\n    onStateChange: function onStateChange(params) {\n      var _props$onStateChange;\n\n      (_props$onStateChange = props.onStateChange) === null || _props$onStateChange === void 0 ? void 0 : _props$onStateChange.call(props, params);\n      plugins.forEach(function (x) {\n        var _x$onStateChange;\n\n        return (_x$onStateChange = x.onStateChange) === null || _x$onStateChange === void 0 ? void 0 : _x$onStateChange.call(x, params);\n      });\n    },\n    onSubmit: function onSubmit(params) {\n      var _props$onSubmit;\n\n      (_props$onSubmit = props.onSubmit) === null || _props$onSubmit === void 0 ? void 0 : _props$onSubmit.call(props, params);\n      plugins.forEach(function (x) {\n        var _x$onSubmit;\n\n        return (_x$onSubmit = x.onSubmit) === null || _x$onSubmit === void 0 ? void 0 : _x$onSubmit.call(x, params);\n      });\n    },\n    onReset: function onReset(params) {\n      var _props$onReset;\n\n      (_props$onReset = props.onReset) === null || _props$onReset === void 0 ? void 0 : _props$onReset.call(props, params);\n      plugins.forEach(function (x) {\n        var _x$onReset;\n\n        return (_x$onReset = x.onReset) === null || _x$onReset === void 0 ? void 0 : _x$onReset.call(x, params);\n      });\n    },\n    getSources: function getSources(params) {\n      return Promise.all([].concat(_toConsumableArray(plugins.map(function (plugin) {\n        return plugin.getSources;\n      })), [props.getSources]).filter(Boolean).map(function (getSources) {\n        return getNormalizedSources(getSources, params);\n      })).then(function (nested) {\n        return flatten(nested);\n      }).then(function (sources) {\n        return sources.map(function (source) {\n          return _objectSpread(_objectSpread({}, source), {}, {\n            onSelect: function onSelect(params) {\n              source.onSelect(params);\n              pluginSubscribers.forEach(function (x) {\n                var _x$onSelect;\n\n                return (_x$onSelect = x.onSelect) === null || _x$onSelect === void 0 ? void 0 : _x$onSelect.call(x, params);\n              });\n            },\n            onActive: function onActive(params) {\n              source.onActive(params);\n              pluginSubscribers.forEach(function (x) {\n                var _x$onActive;\n\n                return (_x$onActive = x.onActive) === null || _x$onActive === void 0 ? void 0 : _x$onActive.call(x, params);\n              });\n            }\n          });\n        });\n      });\n    },\n    navigator: _objectSpread({\n      navigate: function navigate(_ref3) {\n        var itemUrl = _ref3.itemUrl;\n        environment.location.assign(itemUrl);\n      },\n      navigateNewTab: function navigateNewTab(_ref4) {\n        var itemUrl = _ref4.itemUrl;\n        var windowReference = environment.open(itemUrl, '_blank', 'noopener');\n        windowReference === null || windowReference === void 0 ? void 0 : windowReference.focus();\n      },\n      navigateNewWindow: function navigateNewWindow(_ref5) {\n        var itemUrl = _ref5.itemUrl;\n        environment.open(itemUrl, '_blank', 'noopener');\n      }\n    }, props.navigator)\n  });\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { flatten } from '@algolia/autocomplete-shared';\nexport function reshape(_ref) {\n  var collections = _ref.collections,\n      props = _ref.props,\n      state = _ref.state;\n  // Sources are grouped by `sourceId` to conveniently pick them via destructuring.\n  // Example: `const { recentSearchesPlugin } = sourcesBySourceId`\n  var sourcesBySourceId = collections.reduce(function (acc, collection) {\n    return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, collection.source.sourceId, _objectSpread(_objectSpread({}, collection.source), {}, {\n      getItems: function getItems() {\n        // We provide the resolved items from the collection to the `reshape` prop.\n        return flatten(collection.items);\n      }\n    })));\n  }, {});\n  var reshapeSources = props.reshape({\n    sources: Object.values(sourcesBySourceId),\n    sourcesBySourceId: sourcesBySourceId,\n    state: state\n  }); // We reconstruct the collections with the items modified by the `reshape` prop.\n\n  return flatten(reshapeSources).filter(Boolean).map(function (source) {\n    return {\n      source: source,\n      items: source.getItems()\n    };\n  });\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { decycle, flatten, invariant } from '@algolia/autocomplete-shared';\nimport { mapToAlgoliaResponse } from './utils';\n\nfunction isDescription(item) {\n  return Boolean(item.execute);\n}\n\nfunction isRequesterDescription(description) {\n  return Boolean(description === null || description === void 0 ? void 0 : description.execute);\n}\n\nexport function preResolve(itemsOrDescription, sourceId) {\n  if (isRequesterDescription(itemsOrDescription)) {\n    return _objectSpread(_objectSpread({}, itemsOrDescription), {}, {\n      requests: itemsOrDescription.queries.map(function (query) {\n        return {\n          query: query,\n          sourceId: sourceId,\n          transformResponse: itemsOrDescription.transformResponse\n        };\n      })\n    });\n  }\n\n  return {\n    items: itemsOrDescription,\n    sourceId: sourceId\n  };\n}\nexport function resolve(items) {\n  var packed = items.reduce(function (acc, current) {\n    if (!isDescription(current)) {\n      acc.push(current);\n      return acc;\n    }\n\n    var searchClient = current.searchClient,\n        execute = current.execute,\n        requesterId = current.requesterId,\n        requests = current.requests;\n    var container = acc.find(function (item) {\n      return isDescription(current) && isDescription(item) && item.searchClient === searchClient && Boolean(requesterId) && item.requesterId === requesterId;\n    });\n\n    if (container) {\n      var _container$items;\n\n      (_container$items = container.items).push.apply(_container$items, _toConsumableArray(requests));\n    } else {\n      var request = {\n        execute: execute,\n        requesterId: requesterId,\n        items: requests,\n        searchClient: searchClient\n      };\n      acc.push(request);\n    }\n\n    return acc;\n  }, []);\n  var values = packed.map(function (maybeDescription) {\n    if (!isDescription(maybeDescription)) {\n      return Promise.resolve(maybeDescription);\n    }\n\n    var _ref = maybeDescription,\n        execute = _ref.execute,\n        items = _ref.items,\n        searchClient = _ref.searchClient;\n    return execute({\n      searchClient: searchClient,\n      requests: items\n    });\n  });\n  return Promise.all(values).then(function (responses) {\n    return flatten(responses);\n  });\n}\nexport function postResolve(responses, sources) {\n  return sources.map(function (source) {\n    var matches = responses.filter(function (response) {\n      return response.sourceId === source.sourceId;\n    });\n    var results = matches.map(function (_ref2) {\n      var items = _ref2.items;\n      return items;\n    });\n    var transform = matches[0].transformResponse;\n    var items = transform ? transform(mapToAlgoliaResponse(results)) : results;\n    invariant(Array.isArray(items), function () {\n      return \"The `getItems` function from source \\\"\".concat(source.sourceId, \"\\\" must return an array of items but returned type \").concat(JSON.stringify(_typeof(items)), \":\\n\\n\").concat(JSON.stringify(decycle(items), null, 2), \".\\n\\nSee: https://www.algolia.com/doc/ui-libraries/autocomplete/core-concepts/sources/#param-getitems\");\n    });\n    invariant(items.every(Boolean), \"The `getItems` function from source \\\"\".concat(source.sourceId, \"\\\" must return an array of items but returned \").concat(JSON.stringify(undefined), \".\\n\\nDid you forget to return items?\\n\\nSee: https://www.algolia.com/doc/ui-libraries/autocomplete/core-concepts/sources/#param-getitems\"));\n    return {\n      source: source,\n      items: items\n    };\n  });\n}","var _excluded = [\"event\", \"nextState\", \"props\", \"query\", \"refresh\", \"store\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { reshape } from './reshape';\nimport { preResolve, resolve, postResolve } from './resolve';\nimport { cancelable, createConcurrentSafePromise, getActiveItem } from './utils';\nvar lastStalledId = null;\nvar runConcurrentSafePromise = createConcurrentSafePromise();\nexport function onInput(_ref) {\n  var event = _ref.event,\n      _ref$nextState = _ref.nextState,\n      nextState = _ref$nextState === void 0 ? {} : _ref$nextState,\n      props = _ref.props,\n      query = _ref.query,\n      refresh = _ref.refresh,\n      store = _ref.store,\n      setters = _objectWithoutProperties(_ref, _excluded);\n\n  if (lastStalledId) {\n    props.environment.clearTimeout(lastStalledId);\n  }\n\n  var setCollections = setters.setCollections,\n      setIsOpen = setters.setIsOpen,\n      setQuery = setters.setQuery,\n      setActiveItemId = setters.setActiveItemId,\n      setStatus = setters.setStatus;\n  setQuery(query);\n  setActiveItemId(props.defaultActiveItemId);\n\n  if (!query && props.openOnFocus === false) {\n    var _nextState$isOpen;\n\n    var collections = store.getState().collections.map(function (collection) {\n      return _objectSpread(_objectSpread({}, collection), {}, {\n        items: []\n      });\n    });\n    setStatus('idle');\n    setCollections(collections);\n    setIsOpen((_nextState$isOpen = nextState.isOpen) !== null && _nextState$isOpen !== void 0 ? _nextState$isOpen : props.shouldPanelOpen({\n      state: store.getState()\n    })); // We make sure to update the latest resolved value of the tracked\n    // promises to keep late resolving promises from \"cancelling\" the state\n    // updates performed in this code path.\n    // We chain with a void promise to respect `onInput`'s expected return type.\n\n    var _request = cancelable(runConcurrentSafePromise(collections).then(function () {\n      return Promise.resolve();\n    }));\n\n    return store.pendingRequests.add(_request);\n  }\n\n  setStatus('loading');\n  lastStalledId = props.environment.setTimeout(function () {\n    setStatus('stalled');\n  }, props.stallThreshold); // We track the entire promise chain triggered by `onInput` before mutating\n  // the Autocomplete state to make sure that any state manipulation is based on\n  // fresh data regardless of when promises individually resolve.\n  // We don't track nested promises and only rely on the full chain resolution,\n  // meaning we should only ever manipulate the state once this concurrent-safe\n  // promise is resolved.\n\n  var request = cancelable(runConcurrentSafePromise(props.getSources(_objectSpread({\n    query: query,\n    refresh: refresh,\n    state: store.getState()\n  }, setters)).then(function (sources) {\n    return Promise.all(sources.map(function (source) {\n      return Promise.resolve(source.getItems(_objectSpread({\n        query: query,\n        refresh: refresh,\n        state: store.getState()\n      }, setters))).then(function (itemsOrDescription) {\n        return preResolve(itemsOrDescription, source.sourceId);\n      });\n    })).then(resolve).then(function (responses) {\n      return postResolve(responses, sources);\n    }).then(function (collections) {\n      return reshape({\n        collections: collections,\n        props: props,\n        state: store.getState()\n      });\n    });\n  }))).then(function (collections) {\n    var _nextState$isOpen2;\n\n    // Parameters passed to `onInput` could be stale when the following code\n    // executes, because `onInput` calls may not resolve in order.\n    // If it becomes a problem we'll need to save the last passed parameters.\n    // See: https://codesandbox.io/s/agitated-cookies-y290z\n    setStatus('idle');\n    setCollections(collections);\n    var isPanelOpen = props.shouldPanelOpen({\n      state: store.getState()\n    });\n    setIsOpen((_nextState$isOpen2 = nextState.isOpen) !== null && _nextState$isOpen2 !== void 0 ? _nextState$isOpen2 : props.openOnFocus && !query && isPanelOpen || isPanelOpen);\n    var highlightedItem = getActiveItem(store.getState());\n\n    if (store.getState().activeItemId !== null && highlightedItem) {\n      var item = highlightedItem.item,\n          itemInputValue = highlightedItem.itemInputValue,\n          itemUrl = highlightedItem.itemUrl,\n          source = highlightedItem.source;\n      source.onActive(_objectSpread({\n        event: event,\n        item: item,\n        itemInputValue: itemInputValue,\n        itemUrl: itemUrl,\n        refresh: refresh,\n        source: source,\n        state: store.getState()\n      }, setters));\n    }\n  }).finally(function () {\n    setStatus('idle');\n\n    if (lastStalledId) {\n      props.environment.clearTimeout(lastStalledId);\n    }\n  });\n  return store.pendingRequests.add(request);\n}","/**\n * Creates a runner that executes promises in a concurrent-safe way.\n *\n * This is useful to prevent older promises to resolve after a newer promise,\n * otherwise resulting in stale resolved values.\n */\nexport function createConcurrentSafePromise() {\n  var basePromiseId = -1;\n  var latestResolvedId = -1;\n  var latestResolvedValue = undefined;\n  return function runConcurrentSafePromise(promise) {\n    basePromiseId++;\n    var currentPromiseId = basePromiseId;\n    return Promise.resolve(promise).then(function (x) {\n      // The promise might take too long to resolve and get outdated. This would\n      // result in resolving stale values.\n      // When this happens, we ignore the promise value and return the one\n      // coming from the latest resolved value.\n      //\n      // +----------------------------------+\n      // |        100ms                     |\n      // | run(1) +--->  R1                 |\n      // |        300ms                     |\n      // | run(2) +-------------> R2 (SKIP) |\n      // |        200ms                     |\n      // | run(3) +--------> R3             |\n      // +----------------------------------+\n      if (latestResolvedValue && currentPromiseId < latestResolvedId) {\n        return latestResolvedValue;\n      }\n\n      latestResolvedId = currentPromiseId;\n      latestResolvedValue = x;\n      return x;\n    });\n  };\n}","var _excluded = [\"event\", \"props\", \"refresh\", \"store\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { onInput } from './onInput';\nimport { getActiveItem } from './utils';\nexport function onKeyDown(_ref) {\n  var event = _ref.event,\n      props = _ref.props,\n      refresh = _ref.refresh,\n      store = _ref.store,\n      setters = _objectWithoutProperties(_ref, _excluded);\n\n  if (event.key === 'ArrowUp' || event.key === 'ArrowDown') {\n    // eslint-disable-next-line no-inner-declarations\n    var triggerScrollIntoView = function triggerScrollIntoView() {\n      var nodeItem = props.environment.document.getElementById(\"\".concat(props.id, \"-item-\").concat(store.getState().activeItemId));\n\n      if (nodeItem) {\n        if (nodeItem.scrollIntoViewIfNeeded) {\n          nodeItem.scrollIntoViewIfNeeded(false);\n        } else {\n          nodeItem.scrollIntoView(false);\n        }\n      }\n    }; // eslint-disable-next-line no-inner-declarations\n\n\n    var triggerOnActive = function triggerOnActive() {\n      var highlightedItem = getActiveItem(store.getState());\n\n      if (store.getState().activeItemId !== null && highlightedItem) {\n        var item = highlightedItem.item,\n            itemInputValue = highlightedItem.itemInputValue,\n            itemUrl = highlightedItem.itemUrl,\n            source = highlightedItem.source;\n        source.onActive(_objectSpread({\n          event: event,\n          item: item,\n          itemInputValue: itemInputValue,\n          itemUrl: itemUrl,\n          refresh: refresh,\n          source: source,\n          state: store.getState()\n        }, setters));\n      }\n    }; // Default browser behavior changes the caret placement on ArrowUp and\n    // ArrowDown.\n\n\n    event.preventDefault(); // When re-opening the panel, we need to split the logic to keep the actions\n    // synchronized as `onInput` returns a promise.\n\n    if (store.getState().isOpen === false && (props.openOnFocus || Boolean(store.getState().query))) {\n      onInput(_objectSpread({\n        event: event,\n        props: props,\n        query: store.getState().query,\n        refresh: refresh,\n        store: store\n      }, setters)).then(function () {\n        store.dispatch(event.key, {\n          nextActiveItemId: props.defaultActiveItemId\n        });\n        triggerOnActive(); // Since we rely on the DOM, we need to wait for all the micro tasks to\n        // finish (which include re-opening the panel) to make sure all the\n        // elements are available.\n\n        setTimeout(triggerScrollIntoView, 0);\n      });\n    } else {\n      store.dispatch(event.key, {});\n      triggerOnActive();\n      triggerScrollIntoView();\n    }\n  } else if (event.key === 'Escape') {\n    // This prevents the default browser behavior on `input[type=\"search\"]`\n    // from removing the query right away because we first want to close the\n    // panel.\n    event.preventDefault();\n    store.dispatch(event.key, null); // Hitting the `Escape` key signals the end of a user interaction with the\n    // autocomplete. At this point, we should ignore any requests that are still\n    // pending and could reopen the panel once they resolve, because that would\n    // result in an unsolicited UI behavior.\n\n    store.pendingRequests.cancelAll();\n  } else if (event.key === 'Enter') {\n    // No active item, so we let the browser handle the native `onSubmit` form\n    // event.\n    if (store.getState().activeItemId === null || store.getState().collections.every(function (collection) {\n      return collection.items.length === 0;\n    })) {\n      return;\n    } // This prevents the `onSubmit` event to be sent because an item is\n    // highlighted.\n\n\n    event.preventDefault();\n\n    var _ref2 = getActiveItem(store.getState()),\n        item = _ref2.item,\n        itemInputValue = _ref2.itemInputValue,\n        itemUrl = _ref2.itemUrl,\n        source = _ref2.source;\n\n    if (event.metaKey || event.ctrlKey) {\n      if (itemUrl !== undefined) {\n        source.onSelect(_objectSpread({\n          event: event,\n          item: item,\n          itemInputValue: itemInputValue,\n          itemUrl: itemUrl,\n          refresh: refresh,\n          source: source,\n          state: store.getState()\n        }, setters));\n        props.navigator.navigateNewTab({\n          itemUrl: itemUrl,\n          item: item,\n          state: store.getState()\n        });\n      }\n    } else if (event.shiftKey) {\n      if (itemUrl !== undefined) {\n        source.onSelect(_objectSpread({\n          event: event,\n          item: item,\n          itemInputValue: itemInputValue,\n          itemUrl: itemUrl,\n          refresh: refresh,\n          source: source,\n          state: store.getState()\n        }, setters));\n        props.navigator.navigateNewWindow({\n          itemUrl: itemUrl,\n          item: item,\n          state: store.getState()\n        });\n      }\n    } else if (event.altKey) {// Keep native browser behavior\n    } else {\n      if (itemUrl !== undefined) {\n        source.onSelect(_objectSpread({\n          event: event,\n          item: item,\n          itemInputValue: itemInputValue,\n          itemUrl: itemUrl,\n          refresh: refresh,\n          source: source,\n          state: store.getState()\n        }, setters));\n        props.navigator.navigate({\n          itemUrl: itemUrl,\n          item: item,\n          state: store.getState()\n        });\n        return;\n      }\n\n      onInput(_objectSpread({\n        event: event,\n        nextState: {\n          isOpen: false\n        },\n        props: props,\n        query: itemInputValue,\n        refresh: refresh,\n        store: store\n      }, setters)).then(function () {\n        source.onSelect(_objectSpread({\n          event: event,\n          item: item,\n          itemInputValue: itemInputValue,\n          itemUrl: itemUrl,\n          refresh: refresh,\n          source: source,\n          state: store.getState()\n        }, setters));\n      });\n    }\n  }\n}","var _excluded = [\"props\", \"refresh\", \"store\"],\n    _excluded2 = [\"inputElement\", \"formElement\", \"panelElement\"],\n    _excluded3 = [\"inputElement\"],\n    _excluded4 = [\"inputElement\", \"maxLength\"],\n    _excluded5 = [\"item\", \"source\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { onInput } from './onInput';\nimport { onKeyDown as _onKeyDown } from './onKeyDown';\nimport { getActiveItem, isOrContainsNode, isSamsung } from './utils';\nexport function getPropGetters(_ref) {\n  var props = _ref.props,\n      refresh = _ref.refresh,\n      store = _ref.store,\n      setters = _objectWithoutProperties(_ref, _excluded);\n\n  var getEnvironmentProps = function getEnvironmentProps(providedProps) {\n    var inputElement = providedProps.inputElement,\n        formElement = providedProps.formElement,\n        panelElement = providedProps.panelElement,\n        rest = _objectWithoutProperties(providedProps, _excluded2);\n\n    return _objectSpread({\n      // On touch devices, we do not rely on the native `blur` event of the\n      // input to close the panel, but rather on a custom `touchstart` event\n      // outside of the autocomplete elements.\n      // This ensures a working experience on mobile because we blur the input\n      // on touch devices when the user starts scrolling (`touchmove`).\n      // @TODO: support cases where there are multiple Autocomplete instances.\n      // Right now, a second instance makes this computation return false.\n      onTouchStart: function onTouchStart(event) {\n        // The `onTouchStart` event shouldn't trigger the `blur` handler when\n        // it's not an interaction with Autocomplete. We detect it with the\n        // following heuristics:\n        // - the panel is closed AND there are no pending requests\n        //   (no interaction with the autocomplete, no future state updates)\n        // - OR the touched target is the input element (should open the panel)\n        var isAutocompleteInteraction = store.getState().isOpen || !store.pendingRequests.isEmpty();\n\n        if (!isAutocompleteInteraction || event.target === inputElement) {\n          return;\n        }\n\n        var isTargetWithinAutocomplete = [formElement, panelElement].some(function (contextNode) {\n          return isOrContainsNode(contextNode, event.target);\n        });\n\n        if (isTargetWithinAutocomplete === false) {\n          store.dispatch('blur', null); // If requests are still pending when the user closes the panel, they\n          // could reopen the panel once they resolve.\n          // We want to prevent any subsequent query from reopening the panel\n          // because it would result in an unsolicited UI behavior.\n\n          if (!props.debug) {\n            store.pendingRequests.cancelAll();\n          }\n        }\n      },\n      // When scrolling on touch devices (mobiles, tablets, etc.), we want to\n      // mimic the native platform behavior where the input is blurred to\n      // hide the virtual keyboard. This gives more vertical space to\n      // discover all the suggestions showing up in the panel.\n      onTouchMove: function onTouchMove(event) {\n        if (store.getState().isOpen === false || inputElement !== props.environment.document.activeElement || event.target === inputElement) {\n          return;\n        }\n\n        inputElement.blur();\n      }\n    }, rest);\n  };\n\n  var getRootProps = function getRootProps(rest) {\n    return _objectSpread({\n      role: 'combobox',\n      'aria-expanded': store.getState().isOpen,\n      'aria-haspopup': 'listbox',\n      'aria-owns': store.getState().isOpen ? \"\".concat(props.id, \"-list\") : undefined,\n      'aria-labelledby': \"\".concat(props.id, \"-label\")\n    }, rest);\n  };\n\n  var getFormProps = function getFormProps(providedProps) {\n    var inputElement = providedProps.inputElement,\n        rest = _objectWithoutProperties(providedProps, _excluded3);\n\n    return _objectSpread({\n      action: '',\n      noValidate: true,\n      role: 'search',\n      onSubmit: function onSubmit(event) {\n        var _providedProps$inputE;\n\n        event.preventDefault();\n        props.onSubmit(_objectSpread({\n          event: event,\n          refresh: refresh,\n          state: store.getState()\n        }, setters));\n        store.dispatch('submit', null);\n        (_providedProps$inputE = providedProps.inputElement) === null || _providedProps$inputE === void 0 ? void 0 : _providedProps$inputE.blur();\n      },\n      onReset: function onReset(event) {\n        var _providedProps$inputE2;\n\n        event.preventDefault();\n        props.onReset(_objectSpread({\n          event: event,\n          refresh: refresh,\n          state: store.getState()\n        }, setters));\n        store.dispatch('reset', null);\n        (_providedProps$inputE2 = providedProps.inputElement) === null || _providedProps$inputE2 === void 0 ? void 0 : _providedProps$inputE2.focus();\n      }\n    }, rest);\n  };\n\n  var getInputProps = function getInputProps(providedProps) {\n    var _props$environment$na;\n\n    function onFocus(event) {\n      // We want to trigger a query when `openOnFocus` is true\n      // because the panel should open with the current query.\n      if (props.openOnFocus || Boolean(store.getState().query)) {\n        onInput(_objectSpread({\n          event: event,\n          props: props,\n          query: store.getState().completion || store.getState().query,\n          refresh: refresh,\n          store: store\n        }, setters));\n      }\n\n      store.dispatch('focus', null);\n    }\n\n    var isTouchDevice = ('ontouchstart' in props.environment);\n\n    var _ref2 = providedProps || {},\n        inputElement = _ref2.inputElement,\n        _ref2$maxLength = _ref2.maxLength,\n        maxLength = _ref2$maxLength === void 0 ? 512 : _ref2$maxLength,\n        rest = _objectWithoutProperties(_ref2, _excluded4);\n\n    var activeItem = getActiveItem(store.getState());\n    var userAgent = (_props$environment$na = props.environment.navigator) === null || _props$environment$na === void 0 ? void 0 : _props$environment$na.userAgent;\n    var shouldFallbackKeyHint = isSamsung(userAgent);\n    var enterKeyHint = activeItem !== null && activeItem !== void 0 && activeItem.itemUrl && !shouldFallbackKeyHint ? 'go' : 'search';\n    return _objectSpread({\n      'aria-autocomplete': 'both',\n      'aria-activedescendant': store.getState().isOpen && store.getState().activeItemId !== null ? \"\".concat(props.id, \"-item-\").concat(store.getState().activeItemId) : undefined,\n      'aria-controls': store.getState().isOpen ? \"\".concat(props.id, \"-list\") : undefined,\n      'aria-labelledby': \"\".concat(props.id, \"-label\"),\n      value: store.getState().completion || store.getState().query,\n      id: \"\".concat(props.id, \"-input\"),\n      autoComplete: 'off',\n      autoCorrect: 'off',\n      autoCapitalize: 'off',\n      enterKeyHint: enterKeyHint,\n      spellCheck: 'false',\n      autoFocus: props.autoFocus,\n      placeholder: props.placeholder,\n      maxLength: maxLength,\n      type: 'search',\n      onChange: function onChange(event) {\n        onInput(_objectSpread({\n          event: event,\n          props: props,\n          query: event.currentTarget.value.slice(0, maxLength),\n          refresh: refresh,\n          store: store\n        }, setters));\n      },\n      onKeyDown: function onKeyDown(event) {\n        _onKeyDown(_objectSpread({\n          event: event,\n          props: props,\n          refresh: refresh,\n          store: store\n        }, setters));\n      },\n      onFocus: onFocus,\n      onBlur: function onBlur() {\n        // We do rely on the `blur` event on touch devices.\n        // See explanation in `onTouchStart`.\n        if (!isTouchDevice) {\n          store.dispatch('blur', null); // If requests are still pending when the user closes the panel, they\n          // could reopen the panel once they resolve.\n          // We want to prevent any subsequent query from reopening the panel\n          // because it would result in an unsolicited UI behavior.\n\n          if (!props.debug) {\n            store.pendingRequests.cancelAll();\n          }\n        }\n      },\n      onClick: function onClick(event) {\n        // When the panel is closed and you click on the input while\n        // the input is focused, the `onFocus` event is not triggered\n        // (default browser behavior).\n        // In an autocomplete context, it makes sense to open the panel in this\n        // case.\n        // We mimic this event by catching the `onClick` event which\n        // triggers the `onFocus` for the panel to open.\n        if (providedProps.inputElement === props.environment.document.activeElement && !store.getState().isOpen) {\n          onFocus(event);\n        }\n      }\n    }, rest);\n  };\n\n  var getLabelProps = function getLabelProps(rest) {\n    return _objectSpread({\n      htmlFor: \"\".concat(props.id, \"-input\"),\n      id: \"\".concat(props.id, \"-label\")\n    }, rest);\n  };\n\n  var getListProps = function getListProps(rest) {\n    return _objectSpread({\n      role: 'listbox',\n      'aria-labelledby': \"\".concat(props.id, \"-label\"),\n      id: \"\".concat(props.id, \"-list\")\n    }, rest);\n  };\n\n  var getPanelProps = function getPanelProps(rest) {\n    return _objectSpread({\n      onMouseDown: function onMouseDown(event) {\n        // Prevents the `activeElement` from being changed to the panel so\n        // that the blur event is not triggered, otherwise it closes the\n        // panel.\n        event.preventDefault();\n      },\n      onMouseLeave: function onMouseLeave() {\n        store.dispatch('mouseleave', null);\n      }\n    }, rest);\n  };\n\n  var getItemProps = function getItemProps(providedProps) {\n    var item = providedProps.item,\n        source = providedProps.source,\n        rest = _objectWithoutProperties(providedProps, _excluded5);\n\n    return _objectSpread({\n      id: \"\".concat(props.id, \"-item-\").concat(item.__autocomplete_id),\n      role: 'option',\n      'aria-selected': store.getState().activeItemId === item.__autocomplete_id,\n      onMouseMove: function onMouseMove(event) {\n        if (item.__autocomplete_id === store.getState().activeItemId) {\n          return;\n        }\n\n        store.dispatch('mousemove', item.__autocomplete_id);\n        var activeItem = getActiveItem(store.getState());\n\n        if (store.getState().activeItemId !== null && activeItem) {\n          var _item = activeItem.item,\n              itemInputValue = activeItem.itemInputValue,\n              itemUrl = activeItem.itemUrl,\n              _source = activeItem.source;\n\n          _source.onActive(_objectSpread({\n            event: event,\n            item: _item,\n            itemInputValue: itemInputValue,\n            itemUrl: itemUrl,\n            refresh: refresh,\n            source: _source,\n            state: store.getState()\n          }, setters));\n        }\n      },\n      onMouseDown: function onMouseDown(event) {\n        // Prevents the `activeElement` from being changed to the item so it\n        // can remain with the current `activeElement`.\n        event.preventDefault();\n      },\n      onClick: function onClick(event) {\n        var itemInputValue = source.getItemInputValue({\n          item: item,\n          state: store.getState()\n        });\n        var itemUrl = source.getItemUrl({\n          item: item,\n          state: store.getState()\n        }); // If `getItemUrl` is provided, it means that the suggestion\n        // is a link, not plain text that aims at updating the query.\n        // We can therefore skip the state change because it will update\n        // the `activeItemId`, resulting in a UI flash, especially\n        // noticeable on mobile.\n\n        var runPreCommand = itemUrl ? Promise.resolve() : onInput(_objectSpread({\n          event: event,\n          nextState: {\n            isOpen: false\n          },\n          props: props,\n          query: itemInputValue,\n          refresh: refresh,\n          store: store\n        }, setters));\n        runPreCommand.then(function () {\n          source.onSelect(_objectSpread({\n            event: event,\n            item: item,\n            itemInputValue: itemInputValue,\n            itemUrl: itemUrl,\n            refresh: refresh,\n            source: source,\n            state: store.getState()\n          }, setters));\n        });\n      }\n    }, rest);\n  };\n\n  return {\n    getEnvironmentProps: getEnvironmentProps,\n    getRootProps: getRootProps,\n    getFormProps: getFormProps,\n    getLabelProps: getLabelProps,\n    getInputProps: getInputProps,\n    getPanelProps: getPanelProps,\n    getListProps: getListProps,\n    getItemProps: getItemProps\n  };\n}","export function isOrContainsNode(parent, child) {\n  return parent === child || parent.contains(child);\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { userAgents } from '@algolia/autocomplete-shared';\nexport function getMetadata(_ref) {\n  var _, _options$__autocomple, _options$__autocomple2, _options$__autocomple3;\n\n  var plugins = _ref.plugins,\n      options = _ref.options;\n  var optionsKey = (_ = (((_options$__autocomple = options.__autocomplete_metadata) === null || _options$__autocomple === void 0 ? void 0 : _options$__autocomple.userAgents) || [])[0]) === null || _ === void 0 ? void 0 : _.segment;\n  var extraOptions = optionsKey ? _defineProperty({}, optionsKey, Object.keys(((_options$__autocomple2 = options.__autocomplete_metadata) === null || _options$__autocomple2 === void 0 ? void 0 : _options$__autocomple2.options) || {})) : {};\n  return {\n    plugins: plugins.map(function (plugin) {\n      return {\n        name: plugin.name,\n        options: Object.keys(plugin.__autocomplete_pluginOptions || [])\n      };\n    }),\n    options: _objectSpread({\n      'autocomplete-core': Object.keys(options)\n    }, extraOptions),\n    ua: userAgents.concat(((_options$__autocomple3 = options.__autocomplete_metadata) === null || _options$__autocomple3 === void 0 ? void 0 : _options$__autocomple3.userAgents) || [])\n  };\n}\nexport function injectMetadata(_ref3) {\n  var _environment$navigato;\n\n  var metadata = _ref3.metadata,\n      environment = _ref3.environment;\n  var isMetadataEnabled = (_environment$navigato = environment.navigator) === null || _environment$navigato === void 0 ? void 0 : _environment$navigato.userAgent.includes('Algolia Crawler');\n\n  if (isMetadataEnabled) {\n    var metadataContainer = environment.document.createElement('meta');\n    var headRef = environment.document.querySelector('head');\n    metadataContainer.name = 'algolia:metadata';\n    setTimeout(function () {\n      metadataContainer.content = JSON.stringify(metadata);\n      headRef.appendChild(metadataContainer);\n    }, 0);\n  }\n}","import { getActiveItem } from './utils';\nexport function getCompletion(_ref) {\n  var _getActiveItem;\n\n  var state = _ref.state;\n\n  if (state.isOpen === false || state.activeItemId === null) {\n    return null;\n  }\n\n  return ((_getActiveItem = getActiveItem(state)) === null || _getActiveItem === void 0 ? void 0 : _getActiveItem.itemInputValue) || null;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { getItemsCount, invariant } from '@algolia/autocomplete-shared';\nimport { getCompletion } from './getCompletion';\nimport { getNextActiveItemId } from './utils';\nexport var stateReducer = function stateReducer(state, action) {\n  switch (action.type) {\n    case 'setActiveItemId':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          activeItemId: action.payload\n        });\n      }\n\n    case 'setQuery':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          query: action.payload,\n          completion: null\n        });\n      }\n\n    case 'setCollections':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          collections: action.payload\n        });\n      }\n\n    case 'setIsOpen':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          isOpen: action.payload\n        });\n      }\n\n    case 'setStatus':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          status: action.payload\n        });\n      }\n\n    case 'setContext':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          context: _objectSpread(_objectSpread({}, state.context), action.payload)\n        });\n      }\n\n    case 'ArrowDown':\n      {\n        var nextState = _objectSpread(_objectSpread({}, state), {}, {\n          activeItemId: action.payload.hasOwnProperty('nextActiveItemId') ? action.payload.nextActiveItemId : getNextActiveItemId(1, state.activeItemId, getItemsCount(state), action.props.defaultActiveItemId)\n        });\n\n        return _objectSpread(_objectSpread({}, nextState), {}, {\n          completion: getCompletion({\n            state: nextState\n          })\n        });\n      }\n\n    case 'ArrowUp':\n      {\n        var _nextState = _objectSpread(_objectSpread({}, state), {}, {\n          activeItemId: getNextActiveItemId(-1, state.activeItemId, getItemsCount(state), action.props.defaultActiveItemId)\n        });\n\n        return _objectSpread(_objectSpread({}, _nextState), {}, {\n          completion: getCompletion({\n            state: _nextState\n          })\n        });\n      }\n\n    case 'Escape':\n      {\n        if (state.isOpen) {\n          return _objectSpread(_objectSpread({}, state), {}, {\n            activeItemId: null,\n            isOpen: false,\n            completion: null\n          });\n        }\n\n        return _objectSpread(_objectSpread({}, state), {}, {\n          activeItemId: null,\n          query: '',\n          status: 'idle',\n          collections: []\n        });\n      }\n\n    case 'submit':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          activeItemId: null,\n          isOpen: false,\n          status: 'idle'\n        });\n      }\n\n    case 'reset':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          activeItemId: // Since we open the panel on reset when openOnFocus=true\n          // we need to restore the highlighted index to the defaultActiveItemId. (DocSearch use-case)\n          // Since we close the panel when openOnFocus=false\n          // we lose track of the highlighted index. (Query-suggestions use-case)\n          action.props.openOnFocus === true ? action.props.defaultActiveItemId : null,\n          status: 'idle',\n          query: ''\n        });\n      }\n\n    case 'focus':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          activeItemId: action.props.defaultActiveItemId,\n          isOpen: (action.props.openOnFocus || Boolean(state.query)) && action.props.shouldPanelOpen({\n            state: state\n          })\n        });\n      }\n\n    case 'blur':\n      {\n        if (action.props.debug) {\n          return state;\n        }\n\n        return _objectSpread(_objectSpread({}, state), {}, {\n          isOpen: false,\n          activeItemId: null\n        });\n      }\n\n    case 'mousemove':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          activeItemId: action.payload\n        });\n      }\n\n    case 'mouseleave':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          activeItemId: action.props.defaultActiveItemId\n        });\n      }\n\n    default:\n      invariant(false, \"The reducer action \".concat(JSON.stringify(action.type), \" is not supported.\"));\n      return state;\n  }\n};","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { checkOptions } from './checkOptions';\nimport { createStore } from './createStore';\nimport { getAutocompleteSetters } from './getAutocompleteSetters';\nimport { getDefaultProps } from './getDefaultProps';\nimport { getPropGetters } from './getPropGetters';\nimport { getMetadata, injectMetadata } from './metadata';\nimport { onInput } from './onInput';\nimport { stateReducer } from './stateReducer';\nexport function createAutocomplete(options) {\n  checkOptions(options);\n  var subscribers = [];\n  var props = getDefaultProps(options, subscribers);\n  var store = createStore(stateReducer, props, onStoreStateChange);\n  var setters = getAutocompleteSetters({\n    store: store\n  });\n  var propGetters = getPropGetters(_objectSpread({\n    props: props,\n    refresh: refresh,\n    store: store\n  }, setters));\n\n  function onStoreStateChange(_ref) {\n    var prevState = _ref.prevState,\n        state = _ref.state;\n    props.onStateChange(_objectSpread({\n      prevState: prevState,\n      state: state,\n      refresh: refresh\n    }, setters));\n  }\n\n  function refresh() {\n    return onInput(_objectSpread({\n      event: new Event('input'),\n      nextState: {\n        isOpen: store.getState().isOpen\n      },\n      props: props,\n      query: store.getState().query,\n      refresh: refresh,\n      store: store\n    }, setters));\n  }\n\n  props.plugins.forEach(function (plugin) {\n    var _plugin$subscribe;\n\n    return (_plugin$subscribe = plugin.subscribe) === null || _plugin$subscribe === void 0 ? void 0 : _plugin$subscribe.call(plugin, _objectSpread(_objectSpread({}, setters), {}, {\n      refresh: refresh,\n      onSelect: function onSelect(fn) {\n        subscribers.push({\n          onSelect: fn\n        });\n      },\n      onActive: function onActive(fn) {\n        subscribers.push({\n          onActive: fn\n        });\n      }\n    }));\n  });\n  injectMetadata({\n    metadata: getMetadata({\n      plugins: props.plugins,\n      options: options\n    }),\n    environment: props.environment\n  });\n  return _objectSpread(_objectSpread({\n    refresh: refresh\n  }, propGetters), setters);\n}","import React from 'react';\n\nexport type FooterTranslations = Partial<{\n  selectText: string;\n  selectKeyAriaLabel: string;\n  navigateText: string;\n  navigateUpKeyAriaLabel: string;\n  navigateDownKeyAriaLabel: string;\n  closeText: string;\n  closeKeyAriaLabel: string;\n  searchByText: string;\n}>;\n\ntype FooterProps = Partial<{\n  translations: FooterTranslations;\n}>;\n\ninterface CommandIconProps {\n  children: React.ReactNode;\n  ariaLabel: string;\n}\n\nfunction CommandIcon(props: CommandIconProps) {\n  return (\n    <svg width=\"15\" height=\"15\" aria-label={props.ariaLabel} role=\"img\">\n      <g\n        fill=\"none\"\n        stroke=\"currentColor\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n        strokeWidth=\"1.2\"\n      >\n        {props.children}\n      </g>\n    </svg>\n  );\n}\n\nexport function Footer({ translations = {} }: FooterProps) {\n  const {\n    selectText = 'to select',\n    selectKeyAriaLabel = 'Enter key',\n    navigateText = 'to navigate',\n    navigateUpKeyAriaLabel = 'Arrow up',\n    navigateDownKeyAriaLabel = 'Arrow down',\n    closeText = 'to close',\n    closeKeyAriaLabel = 'Escape key',\n  } = translations;\n\n  return (\n    <>\n      <ul className=\"DocSearch-Commands\">\n        <li>\n          <kbd className=\"DocSearch-Commands-Key\">\n            <CommandIcon ariaLabel={selectKeyAriaLabel}>\n              <path d=\"M12 3.53088v3c0 1-1 2-2 2H4M7 11.53088l-3-3 3-3\" />\n            </CommandIcon>\n          </kbd>\n          <span className=\"DocSearch-Label\">{selectText}</span>\n        </li>\n        <li>\n          <kbd className=\"DocSearch-Commands-Key\">\n            <CommandIcon ariaLabel={navigateDownKeyAriaLabel}>\n              <path d=\"M7.5 3.5v8M10.5 8.5l-3 3-3-3\" />\n            </CommandIcon>\n          </kbd>\n          <kbd className=\"DocSearch-Commands-Key\">\n            <CommandIcon ariaLabel={navigateUpKeyAriaLabel}>\n              <path d=\"M7.5 11.5v-8M10.5 6.5l-3-3-3 3\" />\n            </CommandIcon>\n          </kbd>\n          <span className=\"DocSearch-Label\">{navigateText}</span>\n        </li>\n        <li>\n          <kbd className=\"DocSearch-Commands-Key\">\n            <CommandIcon ariaLabel={closeKeyAriaLabel}>\n              <path d=\"M13.6167 8.936c-.1065.3583-.6883.962-1.4875.962-.7993 0-1.653-.9165-1.653-2.1258v-.5678c0-1.2548.7896-2.1016 1.653-2.1016.8634 0 1.3601.4778 1.4875 1.0724M9 6c-.1352-.4735-.7506-.9219-1.46-.8972-.7092.0246-1.344.57-1.344 1.2166s.4198.8812 1.3445.9805C8.465 7.3992 8.968 7.9337 9 8.5c.032.5663-.454 1.398-1.4595 1.398C6.6593 9.898 6 9 5.963 8.4851m-1.4748.5368c-.2635.5941-.8099.876-1.5443.876s-1.7073-.6248-1.7073-2.204v-.4603c0-1.0416.721-2.131 1.7073-2.131.9864 0 1.6425 1.031 1.5443 2.2492h-2.956\" />\n            </CommandIcon>\n          </kbd>\n          <span className=\"DocSearch-Label\">{closeText}</span>\n        </li>\n      </ul>\n    </>\n  );\n}\n","import React from 'react';\n\nimport type { InternalDocSearchHit, StoredDocSearchHit } from './types';\n\ninterface HitProps {\n  hit: InternalDocSearchHit | StoredDocSearchHit;\n  children: React.ReactNode;\n}\n\nexport function Hit({ hit, children }: HitProps) {\n  return <a href={hit.url}>{children}</a>;\n}\n","import React from 'react';\n\nexport function LoadingIcon() {\n  return (\n    <svg viewBox=\"0 0 38 38\" stroke=\"currentColor\" strokeOpacity=\".5\">\n      <g fill=\"none\" fillRule=\"evenodd\">\n        <g transform=\"translate(1 1)\" strokeWidth=\"2\">\n          <circle strokeOpacity=\".3\" cx=\"18\" cy=\"18\" r=\"18\" />\n          <path d=\"M36 18c0-9.94-8.06-18-18-18\">\n            <animateTransform\n              attributeName=\"transform\"\n              type=\"rotate\"\n              from=\"0 18 18\"\n              to=\"360 18 18\"\n              dur=\"1s\"\n              repeatCount=\"indefinite\"\n            />\n          </path>\n        </g>\n      </g>\n    </svg>\n  );\n}\n","import React from 'react';\n\nexport function RecentIcon() {\n  return (\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\n      <g\n        stroke=\"currentColor\"\n        fill=\"none\"\n        fillRule=\"evenodd\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      >\n        <path d=\"M3.18 6.6a8.23 8.23 0 1112.93 9.94h0a8.23 8.23 0 01-11.63 0\" />\n        <path d=\"M6.44 7.25H2.55V3.36M10.45 6v5.6M10.45 11.6L13 13\" />\n      </g>\n    </svg>\n  );\n}\n","import React from 'react';\n\nexport function ResetIcon() {\n  return (\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\n      <path\n        d=\"M10 10l5.09-5.09L10 10l5.09 5.09L10 10zm0 0L4.91 4.91 10 10l-5.09 5.09L10 10z\"\n        stroke=\"currentColor\"\n        fill=\"none\"\n        fillRule=\"evenodd\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </svg>\n  );\n}\n","import React from 'react';\n\nexport function SelectIcon() {\n  return (\n    <svg\n      className=\"DocSearch-Hit-Select-Icon\"\n      width=\"20\"\n      height=\"20\"\n      viewBox=\"0 0 20 20\"\n    >\n      <g\n        stroke=\"currentColor\"\n        fill=\"none\"\n        fillRule=\"evenodd\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      >\n        <path d=\"M18 3v4c0 2-2 4-4 4H2\" />\n        <path d=\"M8 17l-6-6 6-6\" />\n      </g>\n    </svg>\n  );\n}\n","import React from 'react';\n\nconst LvlIcon: React.FC = () => {\n  return (\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\n      <path\n        d=\"M17 6v12c0 .52-.2 1-1 1H4c-.7 0-1-.33-1-1V2c0-.55.42-1 1-1h8l5 5zM14 8h-3.13c-.51 0-.87-.34-.87-.87V4\"\n        stroke=\"currentColor\"\n        fill=\"none\"\n        fillRule=\"evenodd\"\n        strokeLinejoin=\"round\"\n      />\n    </svg>\n  );\n};\n\nexport function SourceIcon(props: { type: string }) {\n  switch (props.type) {\n    case 'lvl1':\n      return <LvlIcon />;\n    case 'content':\n      return <ContentIcon />;\n    default:\n      return <AnchorIcon />;\n  }\n}\n\nfunction AnchorIcon() {\n  return (\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\n      <path\n        d=\"M13 13h4-4V8H7v5h6v4-4H7V8H3h4V3v5h6V3v5h4-4v5zm-6 0v4-4H3h4z\"\n        stroke=\"currentColor\"\n        fill=\"none\"\n        fillRule=\"evenodd\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </svg>\n  );\n}\n\nfunction ContentIcon() {\n  return (\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\n      <path\n        d=\"M17 5H3h14zm0 5H3h14zm0 5H3h14z\"\n        stroke=\"currentColor\"\n        fill=\"none\"\n        fillRule=\"evenodd\"\n        strokeLinejoin=\"round\"\n      />\n    </svg>\n  );\n}\n","import React from 'react';\n\nexport function StarIcon() {\n  return (\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\n      <path\n        d=\"M10 14.2L5 17l1-5.6-4-4 5.5-.7 2.5-5 2.5 5 5.6.8-4 4 .9 5.5z\"\n        stroke=\"currentColor\"\n        fill=\"none\"\n        fillRule=\"evenodd\"\n        strokeLinejoin=\"round\"\n      />\n    </svg>\n  );\n}\n","import React from 'react';\n\nexport function ErrorIcon() {\n  return (\n    <svg\n      width=\"40\"\n      height=\"40\"\n      viewBox=\"0 0 20 20\"\n      fill=\"none\"\n      fillRule=\"evenodd\"\n      stroke=\"currentColor\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <path d=\"M19 4.8a16 16 0 00-2-1.2m-3.3-1.2A16 16 0 001.1 4.7M16.7 8a12 12 0 00-2.8-1.4M10 6a12 12 0 00-6.7 2M12.3 14.7a4 4 0 00-4.5 0M14.5 11.4A8 8 0 0010 10M3 16L18 2M10 18h0\"></path>\n    </svg>\n  );\n}\n","import React from 'react';\n\nexport function NoResultsIcon() {\n  return (\n    <svg\n      width=\"40\"\n      height=\"40\"\n      viewBox=\"0 0 20 20\"\n      fill=\"none\"\n      fillRule=\"evenodd\"\n      stroke=\"currentColor\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <path d=\"M15.5 4.8c2 3 1.7 7-1 9.7h0l4.3 4.3-4.3-4.3a7.8 7.8 0 01-9.8 1m-2.2-2.2A7.8 7.8 0 0113.2 2.4M2 18L18 2\"></path>\n    </svg>\n  );\n}\n","import React from 'react';\n\nimport { ErrorIcon } from './icons';\n\nexport type ErrorScreenTranslations = Partial<{\n  titleText: string;\n  helpText: string;\n}>;\n\ntype ErrorScreenProps = {\n  translations?: ErrorScreenTranslations;\n};\n\nexport function ErrorScreen({ translations = {} }: ErrorScreenProps) {\n  const {\n    titleText = 'Unable to fetch results',\n    helpText = 'You might want to check your network connection.',\n  } = translations;\n  return (\n    <div className=\"DocSearch-ErrorScreen\">\n      <div className=\"DocSearch-Screen-Icon\">\n        <ErrorIcon />\n      </div>\n      <p className=\"DocSearch-Title\">{titleText}</p>\n      <p className=\"DocSearch-Help\">{helpText}</p>\n    </div>\n  );\n}\n","import React from 'react';\n\nimport { NoResultsIcon } from './icons';\nimport type { ScreenStateProps } from './ScreenState';\nimport type { InternalDocSearchHit } from './types';\n\nexport type NoResultsScreenTranslations = Partial<{\n  noResultsText: string;\n  suggestedQueryText: string;\n  reportMissingResultsText: string;\n  reportMissingResultsLinkText: string;\n}>;\n\ntype NoResultsScreenProps = Omit<\n  ScreenStateProps<InternalDocSearchHit>,\n  'translations'\n> & {\n  translations?: NoResultsScreenTranslations;\n};\n\nexport function NoResultsScreen({\n  translations = {},\n  ...props\n}: NoResultsScreenProps) {\n  const {\n    noResultsText = 'No results for',\n    suggestedQueryText = 'Try searching for',\n    reportMissingResultsText = 'Believe this query should return results?',\n    reportMissingResultsLinkText = 'Let us know.',\n  } = translations;\n  const searchSuggestions: string[] | undefined = props.state.context\n    .searchSuggestions as string[];\n\n  return (\n    <div className=\"DocSearch-NoResults\">\n      <div className=\"DocSearch-Screen-Icon\">\n        <NoResultsIcon />\n      </div>\n      <p className=\"DocSearch-Title\">\n        {noResultsText} \"<strong>{props.state.query}</strong>\"\n      </p>\n\n      {searchSuggestions && searchSuggestions.length > 0 && (\n        <div className=\"DocSearch-NoResults-Prefill-List\">\n          <p className=\"DocSearch-Help\">{suggestedQueryText}:</p>\n          <ul>\n            {searchSuggestions.slice(0, 3).reduce<React.ReactNode[]>(\n              (acc, search) => [\n                ...acc,\n                <li key={search}>\n                  <button\n                    className=\"DocSearch-Prefill\"\n                    key={search}\n                    type=\"button\"\n                    onClick={() => {\n                      props.setQuery(search.toLowerCase() + ' ');\n                      props.refresh();\n                      props.inputRef.current!.focus();\n                    }}\n                  >\n                    {search}\n                  </button>\n                </li>,\n              ],\n              []\n            )}\n          </ul>\n        </div>\n      )}\n\n      {props.getMissingResultsUrl && (\n        <p className=\"DocSearch-Help\">\n          {`${reportMissingResultsText} `}\n          <a\n            href={props.getMissingResultsUrl({ query: props.state.query })}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            {reportMissingResultsLinkText}\n          </a>\n        </p>\n      )}\n    </div>\n  );\n}\n","import { createElement } from 'react';\n\nimport type { StoredDocSearchHit } from './types';\n\nfunction getPropertyByPath(object: Record<string, any>, path: string): any {\n  const parts = path.split('.');\n\n  return parts.reduce((prev, current) => {\n    if (prev?.[current]) return prev[current];\n    return null;\n  }, object);\n}\n\ninterface SnippetProps<TItem> {\n  hit: TItem;\n  attribute: string;\n  tagName?: string;\n  [prop: string]: unknown;\n}\n\nexport function Snippet<TItem extends StoredDocSearchHit>({\n  hit,\n  attribute,\n  tagName = 'span',\n  ...rest\n}: SnippetProps<TItem>) {\n  return createElement(tagName, {\n    ...rest,\n    dangerouslySetInnerHTML: {\n      __html:\n        getPropertyByPath(hit, `_snippetResult.${attribute}.value`) ||\n        getPropertyByPath(hit, attribute),\n    },\n  });\n}\n","import type {\n  AutocompleteApi,\n  AutocompleteState,\n  BaseItem,\n} from '@algolia/autocomplete-core';\nimport React from 'react';\n\nimport type { DocSearchProps } from './DocSearch';\nimport { Snippet } from './Snippet';\nimport type { InternalDocSearchHit, StoredDocSearchHit } from './types';\n\ninterface ResultsProps<TItem extends BaseItem>\n  extends AutocompleteApi<\n    TItem,\n    React.FormEvent,\n    React.MouseEvent,\n    React.KeyboardEvent\n  > {\n  title: string;\n  collection: AutocompleteState<TItem>['collections'][0];\n  renderIcon: (props: { item: TItem; index: number }) => React.ReactNode;\n  renderAction: (props: {\n    item: TItem;\n    runDeleteTransition: (cb: () => void) => void;\n    runFavoriteTransition: (cb: () => void) => void;\n  }) => React.ReactNode;\n  onItemClick: (item: TItem) => void;\n  hitComponent: DocSearchProps['hitComponent'];\n}\n\nexport function Results<TItem extends StoredDocSearchHit>(\n  props: ResultsProps<TItem>\n) {\n  if (!props.collection || props.collection.items.length === 0) {\n    return null;\n  }\n\n  return (\n    <section className=\"DocSearch-Hits\">\n      <div className=\"DocSearch-Hit-source\">{props.title}</div>\n\n      <ul {...props.getListProps()}>\n        {props.collection.items.map((item, index) => {\n          return (\n            <Result\n              key={[props.title, item.objectID].join(':')}\n              item={item}\n              index={index}\n              {...props}\n            />\n          );\n        })}\n      </ul>\n    </section>\n  );\n}\n\ninterface ResultProps<TItem extends BaseItem> extends ResultsProps<TItem> {\n  item: TItem;\n  index: number;\n}\n\nfunction Result<TItem extends StoredDocSearchHit>({\n  item,\n  index,\n  renderIcon,\n  renderAction,\n  getItemProps,\n  onItemClick,\n  collection,\n  hitComponent,\n}: ResultProps<TItem>) {\n  const [isDeleting, setIsDeleting] = React.useState(false);\n  const [isFavoriting, setIsFavoriting] = React.useState(false);\n  const action = React.useRef<(() => void) | null>(null);\n  const Hit = hitComponent!;\n\n  function runDeleteTransition(cb: () => void) {\n    setIsDeleting(true);\n    action.current = cb;\n  }\n\n  function runFavoriteTransition(cb: () => void) {\n    setIsFavoriting(true);\n    action.current = cb;\n  }\n\n  return (\n    <li\n      className={[\n        'DocSearch-Hit',\n        (item as unknown as InternalDocSearchHit).__docsearch_parent &&\n          'DocSearch-Hit--Child',\n        isDeleting && 'DocSearch-Hit--deleting',\n        isFavoriting && 'DocSearch-Hit--favoriting',\n      ]\n        .filter(Boolean)\n        .join(' ')}\n      onTransitionEnd={() => {\n        if (action.current) {\n          action.current();\n        }\n      }}\n      {...getItemProps({\n        item,\n        source: collection.source,\n        onClick() {\n          onItemClick(item);\n        },\n      })}\n    >\n      <Hit hit={item}>\n        <div className=\"DocSearch-Hit-Container\">\n          {renderIcon({ item, index })}\n\n          {item.hierarchy[item.type] && item.type === 'lvl1' && (\n            <div className=\"DocSearch-Hit-content-wrapper\">\n              <Snippet\n                className=\"DocSearch-Hit-title\"\n                hit={item}\n                attribute=\"hierarchy.lvl1\"\n              />\n              {item.content && (\n                <Snippet\n                  className=\"DocSearch-Hit-path\"\n                  hit={item}\n                  attribute=\"content\"\n                />\n              )}\n            </div>\n          )}\n\n          {item.hierarchy[item.type] &&\n            (item.type === 'lvl2' ||\n              item.type === 'lvl3' ||\n              item.type === 'lvl4' ||\n              item.type === 'lvl5' ||\n              item.type === 'lvl6') && (\n              <div className=\"DocSearch-Hit-content-wrapper\">\n                <Snippet\n                  className=\"DocSearch-Hit-title\"\n                  hit={item}\n                  attribute={`hierarchy.${item.type}`}\n                />\n                <Snippet\n                  className=\"DocSearch-Hit-path\"\n                  hit={item}\n                  attribute=\"hierarchy.lvl1\"\n                />\n              </div>\n            )}\n\n          {item.type === 'content' && (\n            <div className=\"DocSearch-Hit-content-wrapper\">\n              <Snippet\n                className=\"DocSearch-Hit-title\"\n                hit={item}\n                attribute=\"content\"\n              />\n              <Snippet\n                className=\"DocSearch-Hit-path\"\n                hit={item}\n                attribute=\"hierarchy.lvl1\"\n              />\n            </div>\n          )}\n\n          {renderAction({ item, runDeleteTransition, runFavoriteTransition })}\n        </div>\n      </Hit>\n    </li>\n  );\n}\n","export function identity<TParam>(x: TParam): TParam {\n  return x;\n}\n","export function noop(..._args: any[]): void {}\n","import type { DocSearchHit, InternalDocSearchHit } from '../types';\n\nconst regexHighlightTags = /(<mark>|<\\/mark>)/g;\nconst regexHasHighlightTags = RegExp(regexHighlightTags.source);\n\nexport function removeHighlightTags(\n  hit: DocSearchHit | InternalDocSearchHit\n): string {\n  const internalDocSearchHit = hit as InternalDocSearchHit;\n\n  if (!internalDocSearchHit.__docsearch_parent && !hit._highlightResult) {\n    return hit.hierarchy.lvl0;\n  }\n\n  const { value } =\n    (internalDocSearchHit.__docsearch_parent\n      ? internalDocSearchHit.__docsearch_parent?._highlightResult?.hierarchy\n          ?.lvl0\n      : hit._highlightResult?.hierarchy?.lvl0) || {};\n\n  return value && regexHasHighlightTags.test(value)\n    ? value.replace(regexHighlightTags, '')\n    : value;\n}\n","import React from 'react';\n\nimport { SelectIcon, SourceIcon } from './icons';\nimport { Results } from './Results';\nimport type { ScreenStateProps } from './ScreenState';\nimport type { InternalDocSearchHit } from './types';\nimport { removeHighlightTags } from './utils';\n\ntype ResultsScreenProps = Omit<\n  ScreenStateProps<InternalDocSearchHit>,\n  'translations'\n>;\n\nexport function ResultsScreen(props: ResultsScreenProps) {\n  return (\n    <div className=\"DocSearch-Dropdown-Container\">\n      {props.state.collections.map((collection) => {\n        if (collection.items.length === 0) {\n          return null;\n        }\n\n        const title = removeHighlightTags(collection.items[0]);\n\n        return (\n          <Results\n            {...props}\n            key={collection.source.sourceId}\n            title={title}\n            collection={collection}\n            renderIcon={({ item, index }) => (\n              <>\n                {item.__docsearch_parent && (\n                  <svg className=\"DocSearch-Hit-Tree\" viewBox=\"0 0 24 54\">\n                    <g\n                      stroke=\"currentColor\"\n                      fill=\"none\"\n                      fillRule=\"evenodd\"\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                    >\n                      {item.__docsearch_parent !==\n                      collection.items[index + 1]?.__docsearch_parent ? (\n                        <path d=\"M8 6v21M20 27H8.3\" />\n                      ) : (\n                        <path d=\"M8 6v42M20 27H8.3\" />\n                      )}\n                    </g>\n                  </svg>\n                )}\n\n                <div className=\"DocSearch-Hit-icon\">\n                  <SourceIcon type={item.type} />\n                </div>\n              </>\n            )}\n            renderAction={() => (\n              <div className=\"DocSearch-Hit-action\">\n                <SelectIcon />\n              </div>\n            )}\n          />\n        );\n      })}\n\n      {props.resultsFooterComponent && (\n        <section className=\"DocSearch-HitsFooter\">\n          <props.resultsFooterComponent state={props.state} />\n        </section>\n      )}\n    </div>\n  );\n}\n","import React from 'react';\n\nimport { RecentIcon, ResetIcon, StarIcon } from './icons';\nimport { Results } from './Results';\nimport type { ScreenStateProps } from './ScreenState';\nimport type { InternalDocSearchHit } from './types';\n\nexport type StartScreenTranslations = Partial<{\n  recentSearchesTitle: string;\n  noRecentSearchesText: string;\n  saveRecentSearchButtonTitle: string;\n  removeRecentSearchButtonTitle: string;\n  favoriteSearchesTitle: string;\n  removeFavoriteSearchButtonTitle: string;\n}>;\n\ntype StartScreenProps = Omit<\n  ScreenStateProps<InternalDocSearchHit>,\n  'translations'\n> & {\n  hasCollections: boolean;\n  translations?: StartScreenTranslations;\n};\n\nexport function StartScreen({ translations = {}, ...props }: StartScreenProps) {\n  const {\n    recentSearchesTitle = 'Recent',\n    noRecentSearchesText = 'No recent searches',\n    saveRecentSearchButtonTitle = 'Save this search',\n    removeRecentSearchButtonTitle = 'Remove this search from history',\n    favoriteSearchesTitle = 'Favorite',\n    removeFavoriteSearchButtonTitle = 'Remove this search from favorites',\n  } = translations;\n  if (props.state.status === 'idle' && props.hasCollections === false) {\n    if (props.disableUserPersonalization) {\n      return null;\n    }\n\n    return (\n      <div className=\"DocSearch-StartScreen\">\n        <p className=\"DocSearch-Help\">{noRecentSearchesText}</p>\n      </div>\n    );\n  }\n\n  if (props.hasCollections === false) {\n    return null;\n  }\n\n  return (\n    <div className=\"DocSearch-Dropdown-Container\">\n      <Results\n        {...props}\n        title={recentSearchesTitle}\n        collection={props.state.collections[0]}\n        renderIcon={() => (\n          <div className=\"DocSearch-Hit-icon\">\n            <RecentIcon />\n          </div>\n        )}\n        renderAction={({\n          item,\n          runFavoriteTransition,\n          runDeleteTransition,\n        }) => (\n          <>\n            <div className=\"DocSearch-Hit-action\">\n              <button\n                className=\"DocSearch-Hit-action-button\"\n                title={saveRecentSearchButtonTitle}\n                type=\"submit\"\n                onClick={(event) => {\n                  event.preventDefault();\n                  event.stopPropagation();\n                  runFavoriteTransition(() => {\n                    props.favoriteSearches.add(item);\n                    props.recentSearches.remove(item);\n                    props.refresh();\n                  });\n                }}\n              >\n                <StarIcon />\n              </button>\n            </div>\n            <div className=\"DocSearch-Hit-action\">\n              <button\n                className=\"DocSearch-Hit-action-button\"\n                title={removeRecentSearchButtonTitle}\n                type=\"submit\"\n                onClick={(event) => {\n                  event.preventDefault();\n                  event.stopPropagation();\n                  runDeleteTransition(() => {\n                    props.recentSearches.remove(item);\n                    props.refresh();\n                  });\n                }}\n              >\n                <ResetIcon />\n              </button>\n            </div>\n          </>\n        )}\n      />\n\n      <Results\n        {...props}\n        title={favoriteSearchesTitle}\n        collection={props.state.collections[1]}\n        renderIcon={() => (\n          <div className=\"DocSearch-Hit-icon\">\n            <StarIcon />\n          </div>\n        )}\n        renderAction={({ item, runDeleteTransition }) => (\n          <div className=\"DocSearch-Hit-action\">\n            <button\n              className=\"DocSearch-Hit-action-button\"\n              title={removeFavoriteSearchButtonTitle}\n              type=\"submit\"\n              onClick={(event) => {\n                event.preventDefault();\n                event.stopPropagation();\n                runDeleteTransition(() => {\n                  props.favoriteSearches.remove(item);\n                  props.refresh();\n                });\n              }}\n            >\n              <ResetIcon />\n            </button>\n          </div>\n        )}\n      />\n    </div>\n  );\n}\n","import type {\n  AutocompleteApi,\n  AutocompleteState,\n  BaseItem,\n} from '@algolia/autocomplete-core';\nimport React from 'react';\n\nimport type { DocSearchProps } from './DocSearch';\nimport type { ErrorScreenTranslations } from './ErrorScreen';\nimport { ErrorScreen } from './ErrorScreen';\nimport type { NoResultsScreenTranslations } from './NoResultsScreen';\nimport { NoResultsScreen } from './NoResultsScreen';\nimport { ResultsScreen } from './ResultsScreen';\nimport type { StartScreenTranslations } from './StartScreen';\nimport { StartScreen } from './StartScreen';\nimport type { StoredSearchPlugin } from './stored-searches';\nimport type { InternalDocSearchHit, StoredDocSearchHit } from './types';\n\nexport type ScreenStateTranslations = Partial<{\n  errorScreen: ErrorScreenTranslations;\n  startScreen: StartScreenTranslations;\n  noResultsScreen: NoResultsScreenTranslations;\n}>;\n\nexport interface ScreenStateProps<TItem extends BaseItem>\n  extends AutocompleteApi<\n    TItem,\n    React.FormEvent,\n    React.MouseEvent,\n    React.KeyboardEvent\n  > {\n  state: AutocompleteState<TItem>;\n  recentSearches: StoredSearchPlugin<StoredDocSearchHit>;\n  favoriteSearches: StoredSearchPlugin<StoredDocSearchHit>;\n  onItemClick: (item: InternalDocSearchHit) => void;\n  inputRef: React.MutableRefObject<HTMLInputElement | null>;\n  hitComponent: DocSearchProps['hitComponent'];\n  indexName: DocSearchProps['indexName'];\n  disableUserPersonalization: boolean;\n  resultsFooterComponent: DocSearchProps['resultsFooterComponent'];\n  translations: ScreenStateTranslations;\n  getMissingResultsUrl?: DocSearchProps['getMissingResultsUrl'];\n}\n\nexport const ScreenState = React.memo(\n  ({ translations = {}, ...props }: ScreenStateProps<InternalDocSearchHit>) => {\n    if (props.state.status === 'error') {\n      return <ErrorScreen translations={translations?.errorScreen} />;\n    }\n\n    const hasCollections = props.state.collections.some(\n      (collection) => collection.items.length > 0\n    );\n\n    if (!props.state.query) {\n      return (\n        <StartScreen\n          {...props}\n          hasCollections={hasCollections}\n          translations={translations?.startScreen}\n        />\n      );\n    }\n\n    if (hasCollections === false) {\n      return (\n        <NoResultsScreen\n          {...props}\n          translations={translations?.noResultsScreen}\n        />\n      );\n    }\n\n    return <ResultsScreen {...props} />;\n  },\n  function areEqual(_prevProps, nextProps) {\n    // We don't update the screen when Autocomplete is loading or stalled to\n    // avoid UI flashes:\n    //  - Empty screen → Results screen\n    //  - NoResults screen → NoResults screen with another query\n    return (\n      nextProps.state.status === 'loading' ||\n      nextProps.state.status === 'stalled'\n    );\n  }\n);\n","import type {\n  AutocompleteApi,\n  AutocompleteState,\n} from '@algolia/autocomplete-core';\nimport type { MutableRefObject } from 'react';\nimport React from 'react';\n\nimport { MAX_QUERY_SIZE } from './constants';\nimport { LoadingIcon } from './icons/LoadingIcon';\nimport { ResetIcon } from './icons/ResetIcon';\nimport { SearchIcon } from './icons/SearchIcon';\nimport type { InternalDocSearchHit } from './types';\n\nexport type SearchBoxTranslations = Partial<{\n  resetButtonTitle: string;\n  resetButtonAriaLabel: string;\n  cancelButtonText: string;\n  cancelButtonAriaLabel: string;\n}>;\n\ninterface SearchBoxProps\n  extends AutocompleteApi<\n    InternalDocSearchHit,\n    React.FormEvent,\n    React.MouseEvent,\n    React.KeyboardEvent\n  > {\n  state: AutocompleteState<InternalDocSearchHit>;\n  autoFocus: boolean;\n  inputRef: MutableRefObject<HTMLInputElement | null>;\n  onClose: () => void;\n  isFromSelection: boolean;\n  translations?: SearchBoxTranslations;\n}\n\nexport function SearchBox({ translations = {}, ...props }: SearchBoxProps) {\n  const {\n    resetButtonTitle = 'Clear the query',\n    resetButtonAriaLabel = 'Clear the query',\n    cancelButtonText = 'Cancel',\n    cancelButtonAriaLabel = 'Cancel',\n  } = translations;\n  const { onReset } = props.getFormProps({\n    inputElement: props.inputRef.current,\n  });\n\n  React.useEffect(() => {\n    if (props.autoFocus && props.inputRef.current) {\n      props.inputRef.current.focus();\n    }\n  }, [props.autoFocus, props.inputRef]);\n\n  React.useEffect(() => {\n    if (props.isFromSelection && props.inputRef.current) {\n      props.inputRef.current.select();\n    }\n  }, [props.isFromSelection, props.inputRef]);\n\n  return (\n    <>\n      <form\n        className=\"DocSearch-Form\"\n        onSubmit={(event) => {\n          event.preventDefault();\n        }}\n        onReset={onReset}\n      >\n        <label className=\"DocSearch-MagnifierLabel\" {...props.getLabelProps()}>\n          <SearchIcon />\n        </label>\n\n        <div className=\"DocSearch-LoadingIndicator\">\n          <LoadingIcon />\n        </div>\n\n        <input\n          className=\"DocSearch-Input\"\n          ref={props.inputRef}\n          {...props.getInputProps({\n            inputElement: props.inputRef.current!,\n            autoFocus: props.autoFocus,\n            maxLength: MAX_QUERY_SIZE,\n          })}\n        />\n\n        <button\n          type=\"reset\"\n          title={resetButtonTitle}\n          className=\"DocSearch-Reset\"\n          aria-label={resetButtonAriaLabel}\n          hidden={!props.state.query}\n        >\n          <ResetIcon />\n        </button>\n      </form>\n\n      <button\n        className=\"DocSearch-Cancel\"\n        type=\"reset\"\n        aria-label={cancelButtonAriaLabel}\n        onClick={props.onClose}\n      >\n        {cancelButtonText}\n      </button>\n    </>\n  );\n}\n","export const MAX_QUERY_SIZE = 64;\n","import type { DocSearchHit, StoredDocSearchHit } from './types';\n\nfunction isLocalStorageSupported() {\n  const key = '__TEST_KEY__';\n\n  try {\n    localStorage.setItem(key, '');\n    localStorage.removeItem(key);\n\n    return true;\n  } catch (error) {\n    return false;\n  }\n}\n\nfunction createStorage<TItem>(key: string) {\n  if (isLocalStorageSupported() === false) {\n    return {\n      setItem() {},\n      getItem() {\n        return [];\n      },\n    };\n  }\n\n  return {\n    setItem(item: TItem[]) {\n      return window.localStorage.setItem(key, JSON.stringify(item));\n    },\n    getItem(): TItem[] {\n      const item = window.localStorage.getItem(key);\n\n      return item ? JSON.parse(item) : [];\n    },\n  };\n}\n\ntype CreateStoredSearchesOptions = {\n  key: string;\n  limit?: number;\n};\n\nexport type StoredSearchPlugin<TItem> = {\n  add: (item: TItem) => void;\n  remove: (item: TItem) => void;\n  getAll: () => TItem[];\n};\n\nexport function createStoredSearches<TItem extends StoredDocSearchHit>({\n  key,\n  limit = 5,\n}: CreateStoredSearchesOptions): StoredSearchPlugin<TItem> {\n  const storage = createStorage<TItem>(key);\n  let items = storage.getItem().slice(0, limit);\n\n  return {\n    add(item: TItem) {\n      const { _highlightResult, _snippetResult, ...hit } =\n        item as unknown as DocSearchHit;\n\n      const isQueryAlreadySaved = items.findIndex(\n        (x) => x.objectID === hit.objectID\n      );\n\n      if (isQueryAlreadySaved > -1) {\n        items.splice(isQueryAlreadySaved, 1);\n      }\n\n      items.unshift(hit as TItem);\n      items = items.slice(0, limit);\n\n      storage.setItem(items);\n    },\n    remove(item: TItem) {\n      items = items.filter((x) => x.objectID !== item.objectID);\n\n      storage.setItem(items);\n    },\n    getAll() {\n      return items;\n    },\n  };\n}\n","import type { AutocompleteState } from '@algolia/autocomplete-core';\nimport { createAutocomplete } from '@algolia/autocomplete-core';\nimport React from 'react';\n\nimport { MAX_QUERY_SIZE } from './constants';\nimport type { DocSearchProps } from './DocSearch';\nimport type { FooterTranslations } from './Footer';\nimport { Footer } from './Footer';\nimport { Hit } from './Hit';\nimport type { ScreenStateTranslations } from './ScreenState';\nimport { ScreenState } from './ScreenState';\nimport type { SearchBoxTranslations } from './SearchBox';\nimport { SearchBox } from './SearchBox';\nimport { createStoredSearches } from './stored-searches';\nimport type {\n  InternalDocSearchHit,\n  StoredDocSearchHit,\n} from './types';\nimport { useTouchEvents } from './useTouchEvents';\nimport { useTrapFocus } from './useTrapFocus';\nimport { identity, noop } from './utils';\n\nexport type ModalTranslations = Partial<{\n  searchBox: SearchBoxTranslations;\n  footer: FooterTranslations;\n}> &\n  ScreenStateTranslations;\n\nexport type DocSearchModalProps = DocSearchProps & {\n  initialScrollY: number;\n  onClose?: () => void;\n  translations?: ModalTranslations;\n};\n\nexport function DocSearchModal({\n\n  indexName,\n  placeholder = 'Search docs',\n  searchParameters,\n  onClose = noop,\n  transformItems = identity,\n  hitComponent = Hit,\n  resultsFooterComponent = () => null,\n  navigator,\n  initialScrollY = 0,\n  disableUserPersonalization = false,\n  initialQuery: initialQueryFromProp = '',\n  translations = {},\n  getMissingResultsUrl,\n  search\n}: DocSearchModalProps) {\n  const {\n    footer: footerTranslations,\n    searchBox: searchBoxTranslations,\n    ...screenStateTranslations\n  } = translations;\n  const [state, setState] = React.useState<\n    AutocompleteState<InternalDocSearchHit>\n  >({\n    query: '',\n    collections: [],\n    completion: null,\n    context: {},\n    isOpen: false,\n    activeItemId: null,\n    status: 'idle',\n  });\n\n  const containerRef = React.useRef<HTMLDivElement | null>(null);\n  const modalRef = React.useRef<HTMLDivElement | null>(null);\n  const formElementRef = React.useRef<HTMLDivElement | null>(null);\n  const dropdownRef = React.useRef<HTMLDivElement | null>(null);\n  const inputRef = React.useRef<HTMLInputElement | null>(null);\n  const snippetLength = React.useRef<number>(10);\n  const initialQueryFromSelection = React.useRef(\n    typeof window !== 'undefined'\n      ? window.getSelection()!.toString().slice(0, MAX_QUERY_SIZE)\n      : ''\n  ).current;\n  const initialQuery = React.useRef(\n    initialQueryFromProp || initialQueryFromSelection\n  ).current;\n\n  const favoriteSearches = React.useRef(\n    createStoredSearches<StoredDocSearchHit>({\n      key: `__DOCSEARCH_FAVORITE_SEARCHES__${indexName}`,\n      limit: 10,\n    })\n  ).current;\n  const recentSearches = React.useRef(\n    createStoredSearches<StoredDocSearchHit>({\n      key: `__DOCSEARCH_RECENT_SEARCHES__${indexName}`,\n      // We display 7 recent searches and there's no favorites, but only\n      // 4 when there are favorites.\n      limit: favoriteSearches.getAll().length === 0 ? 7 : 4,\n    })\n  ).current;\n\n  const saveRecentSearch = React.useCallback(\n    function saveRecentSearch(item: InternalDocSearchHit) {\n      if (disableUserPersonalization) {\n        return;\n      }\n\n      // We don't store `content` record, but their parent if available.\n      const search = item.type === 'content' ? item.__docsearch_parent : item;\n\n      // We save the recent search only if it's not favorited.\n      if (\n        search &&\n        favoriteSearches\n          .getAll()\n          .findIndex((x) => x.objectID === search.objectID) === -1\n      ) {\n        recentSearches.add(search);\n      }\n    },\n    [favoriteSearches, recentSearches, disableUserPersonalization]\n  );\n\n  const autocomplete = React.useMemo(\n    () =>\n      createAutocomplete<\n        InternalDocSearchHit,\n        React.FormEvent<HTMLFormElement>,\n        React.MouseEvent,\n        React.KeyboardEvent\n      >({\n        id: 'docsearch',\n        defaultActiveItemId: 0,\n        placeholder,\n        openOnFocus: true,\n        initialState: {\n          query: initialQuery,\n          context: {\n            searchSuggestions: [],\n          },\n        },\n        navigator,\n        onStateChange(props) {\n          setState(props.state);\n        },\n        getSources: async ({ query }) => {\n          if (!query) {\n            if (disableUserPersonalization) {\n              return [];\n            }\n\n            return [\n              {\n                sourceId: 'recentSearches',\n                onSelect({ item, event }) {\n                  saveRecentSearch(item);\n\n                  if (!event.shiftKey && !event.ctrlKey && !event.metaKey) {\n                    onClose();\n                  }\n                },\n                getItemUrl({ item }) {\n                  return item.url;\n                },\n                getItems() {\n                  return recentSearches.getAll();\n                },\n              },\n              {\n                sourceId: 'favoriteSearches',\n                onSelect({ item, event }) {\n                  saveRecentSearch(item);\n\n                  if (!event.shiftKey && !event.ctrlKey && !event.metaKey) {\n                    onClose();\n                  }\n                },\n                getItemUrl({ item }) {\n                  return item.url;\n                },\n                getItems() {\n                  return favoriteSearches.getAll();\n                },\n              },\n            ];\n          }\n\n          const results = await search(query);\n          \n          return results.map(\n            (_, index) => {\n              return {\n                sourceId: `hits${index}`,\n                onSelect({ item, event }) {\n                  saveRecentSearch(item);\n\n                  if (!event.shiftKey && !event.ctrlKey && !event.metaKey) {\n                    onClose();\n                  }\n                },\n                getItemUrl({ item }) {\n                  return item.url;\n                },\n                getItems() {\n                  return transformItems(results)\n                },\n              };\n            }\n          );\n        },\n      }),\n    [\n      indexName,\n      searchParameters,\n      onClose,\n      recentSearches,\n      favoriteSearches,\n      saveRecentSearch,\n      initialQuery,\n      placeholder,\n      navigator,\n      transformItems,\n      disableUserPersonalization,\n    ]\n  );\n\n  const { getEnvironmentProps, getRootProps, refresh } = autocomplete;\n\n  useTouchEvents({\n    getEnvironmentProps,\n    panelElement: dropdownRef.current,\n    formElement: formElementRef.current,\n    inputElement: inputRef.current,\n  });\n  useTrapFocus({ container: containerRef.current });\n\n  React.useEffect(() => {\n    document.body.classList.add('DocSearch--active');\n\n    return () => {\n      document.body.classList.remove('DocSearch--active');\n\n      // IE11 doesn't support `scrollTo` so we check that the method exists\n      // first.\n      window.scrollTo?.(0, initialScrollY);\n    };\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  React.useEffect(() => {\n    const isMobileMediaQuery = window.matchMedia('(max-width: 750px)');\n\n    if (isMobileMediaQuery.matches) {\n      snippetLength.current = 5;\n    }\n  }, []);\n\n  React.useEffect(() => {\n    if (dropdownRef.current) {\n      dropdownRef.current.scrollTop = 0;\n    }\n  }, [state.query]);\n\n  // We don't focus the input when there's an initial query (i.e. Selection\n  // Search) because users rather want to see the results directly, without the\n  // keyboard appearing.\n  // We therefore need to refresh the autocomplete instance to load all the\n  // results, which is usually triggered on focus.\n  React.useEffect(() => {\n    if (initialQuery.length > 0) {\n      refresh();\n\n      if (inputRef.current) {\n        inputRef.current.focus();\n      }\n    }\n  }, [initialQuery, refresh]);\n\n  // We rely on a CSS property to set the modal height to the full viewport height\n  // because all mobile browsers don't compute their height the same way.\n  // See https://css-tricks.com/the-trick-to-viewport-units-on-mobile/\n  React.useEffect(() => {\n    function setFullViewportHeight() {\n      if (modalRef.current) {\n        const vh = window.innerHeight * 0.01;\n        modalRef.current.style.setProperty('--docsearch-vh', `${vh}px`);\n      }\n    }\n\n    setFullViewportHeight();\n\n    window.addEventListener('resize', setFullViewportHeight);\n\n    return () => {\n      window.removeEventListener('resize', setFullViewportHeight);\n    };\n  }, []);\n\n  return (\n    <div\n      ref={containerRef}\n      {...getRootProps({\n        'aria-expanded': true,\n      })}\n      className={[\n        'DocSearch',\n        'DocSearch-Container',\n        state.status === 'stalled' && 'DocSearch-Container--Stalled',\n        state.status === 'error' && 'DocSearch-Container--Errored',\n      ]\n        .filter(Boolean)\n        .join(' ')}\n      role=\"button\"\n      tabIndex={0}\n      onMouseDown={(event) => {\n        if (event.target === event.currentTarget) {\n          onClose();\n        }\n      }}\n    >\n      <div className=\"DocSearch-Modal\" ref={modalRef}>\n        <header className=\"DocSearch-SearchBar\" ref={formElementRef}>\n          <SearchBox\n            {...autocomplete}\n            state={state}\n            autoFocus={initialQuery.length === 0}\n            inputRef={inputRef}\n            isFromSelection={\n              Boolean(initialQuery) &&\n              initialQuery === initialQueryFromSelection\n            }\n            translations={searchBoxTranslations}\n            onClose={onClose}\n          />\n        </header>\n\n        <div className=\"DocSearch-Dropdown\" ref={dropdownRef}>\n          <ScreenState\n            {...autocomplete}\n            indexName={indexName}\n            state={state}\n            hitComponent={hitComponent}\n            resultsFooterComponent={resultsFooterComponent}\n            disableUserPersonalization={disableUserPersonalization}\n            recentSearches={recentSearches}\n            favoriteSearches={favoriteSearches}\n            inputRef={inputRef}\n            translations={screenStateTranslations}\n            getMissingResultsUrl={getMissingResultsUrl}\n            onItemClick={(item) => {\n              saveRecentSearch(item);\n              onClose();\n            }}\n          />\n        </div>\n\n        <footer className=\"DocSearch-Footer\">\n          <Footer translations={footerTranslations} />\n        </footer>\n      </div>\n    </div>\n  );\n}\n","import type { AutocompleteApi } from '@algolia/autocomplete-core';\nimport React from 'react';\n\ninterface UseTouchEventsProps {\n  getEnvironmentProps: AutocompleteApi<any>['getEnvironmentProps'];\n  panelElement: HTMLDivElement | null;\n  formElement: HTMLDivElement | null;\n  inputElement: HTMLInputElement | null;\n}\n\nexport function useTouchEvents({\n  getEnvironmentProps,\n  panelElement,\n  formElement,\n  inputElement,\n}: UseTouchEventsProps) {\n  React.useEffect(() => {\n    if (!(panelElement && formElement && inputElement)) {\n      return undefined;\n    }\n\n    const { onTouchStart, onTouchMove } = getEnvironmentProps({\n      panelElement,\n      formElement,\n      inputElement,\n    });\n\n    window.addEventListener('touchstart', onTouchStart);\n    window.addEventListener('touchmove', onTouchMove);\n\n    return () => {\n      window.removeEventListener('touchstart', onTouchStart);\n      window.removeEventListener('touchmove', onTouchMove);\n    };\n  }, [getEnvironmentProps, panelElement, formElement, inputElement]);\n}\n","import React from 'react';\n\ninterface UseTrapFocusProps {\n  container: HTMLElement | null;\n}\n\nexport function useTrapFocus({ container }: UseTrapFocusProps) {\n  React.useEffect(() => {\n    if (!container) {\n      return undefined;\n    }\n\n    const focusableElements = container.querySelectorAll<HTMLElement>(\n      'a[href]:not([disabled]), button:not([disabled]), input:not([disabled])'\n    );\n    const firstElement = focusableElements[0];\n    const lastElement = focusableElements[focusableElements.length - 1];\n\n    function trapFocus(event: KeyboardEvent) {\n      if (event.key !== 'Tab') {\n        return;\n      }\n\n      if (event.shiftKey) {\n        if (document.activeElement === firstElement) {\n          event.preventDefault();\n          lastElement.focus();\n        }\n      } else if (document.activeElement === lastElement) {\n        event.preventDefault();\n        firstElement.focus();\n      }\n    }\n\n    container.addEventListener('keydown', trapFocus);\n\n    return () => {\n      container.removeEventListener('keydown', trapFocus);\n    };\n  }, [container]);\n}\n","import React from 'react';\n\nexport interface UseDocSearchKeyboardEventsProps {\n  isOpen: boolean;\n  onOpen: () => void;\n  onClose: () => void;\n  onInput?: (event: KeyboardEvent) => void;\n  searchButtonRef?: React.RefObject<HTMLButtonElement>;\n}\n\nfunction isEditingContent(event: KeyboardEvent): boolean {\n  const element = event.target as HTMLElement;\n  const tagName = element.tagName;\n\n  return (\n    element.isContentEditable ||\n    tagName === 'INPUT' ||\n    tagName === 'SELECT' ||\n    tagName === 'TEXTAREA'\n  );\n}\n\nexport function useDocSearchKeyboardEvents({\n  isOpen,\n  onOpen,\n  onClose,\n  onInput,\n  searchButtonRef,\n}: UseDocSearchKeyboardEventsProps) {\n  React.useEffect(() => {\n    function onKeyDown(event: KeyboardEvent) {\n      function open() {\n        // We check that no other DocSearch modal is showing before opening\n        // another one.\n        if (!document.body.classList.contains('DocSearch--active')) {\n          onOpen();\n        }\n      }\n      if (\n        (event.keyCode === 27 && isOpen) ||\n        // The `Cmd+K` shortcut both opens and closes the modal.\n        (event.key === 'k' && (event.metaKey || event.ctrlKey)) ||\n        // The `/` shortcut opens but doesn't close the modal because it's\n        // a character.\n        (!isEditingContent(event) && event.key === '/' && !isOpen)\n      ) {\n        event.preventDefault();\n\n        if (isOpen) {\n          onClose();\n        } else if (!document.body.classList.contains('DocSearch--active')) {\n          open();\n        }\n      }\n\n      if (\n        searchButtonRef &&\n        searchButtonRef.current === document.activeElement &&\n        onInput\n      ) {\n        if (/[a-zA-Z0-9]/.test(String.fromCharCode(event.keyCode))) {\n          onInput(event);\n        }\n      }\n    }\n\n    window.addEventListener('keydown', onKeyDown);\n\n    return () => {\n      window.removeEventListener('keydown', onKeyDown);\n    };\n  }, [isOpen, onOpen, onClose, onInput, searchButtonRef]);\n}\n","import type {\n  AutocompleteState,\n  AutocompleteOptions,\n} from '@algolia/autocomplete-core';\nimport type { SearchOptions } from '@algolia/client-search';\nimport React from 'react';\nimport { createPortal } from 'react-dom';\n\nimport { DocSearchButton } from './DocSearchButton';\nimport { DocSearchModal } from './DocSearchModal';\nimport type {\n  DocSearchHit,\n  InternalDocSearchHit,\n  StoredDocSearchHit,\n} from './types';\nimport { useDocSearchKeyboardEvents } from './useDocSearchKeyboardEvents';\n\nimport type { ButtonTranslations, ModalTranslations } from '.';\n\nexport type DocSearchTranslations = Partial<{\n  button: ButtonTranslations;\n  modal: ModalTranslations;\n}>;\n\nexport interface DocSearchProps {\n  /**  Provide this instead of the algolia api information */\n  search: (input: string) => Promise<DocSearchHit[]>, \n  indexName: string;\n  placeholder?: string;\n  searchParameters?: SearchOptions;\n  transformItems?: (items: DocSearchHit[]) => DocSearchHit[];\n  hitComponent?: (props: {\n    hit: InternalDocSearchHit | StoredDocSearchHit;\n    children: React.ReactNode;\n  }) => JSX.Element;\n  resultsFooterComponent?: (props: {\n    state: AutocompleteState<InternalDocSearchHit>;\n  }) => JSX.Element | null;\n  disableUserPersonalization?: boolean;\n  initialQuery?: string;\n  navigator?: AutocompleteOptions<InternalDocSearchHit>['navigator'];\n  translations?: DocSearchTranslations;\n  getMissingResultsUrl?: ({ query: string }) => string;\n}\n\nexport function DocSearch(props: DocSearchProps) {\n  const searchButtonRef = React.useRef<HTMLButtonElement>(null);\n  const [isOpen, setIsOpen] = React.useState(false);\n  const [initialQuery, setInitialQuery] = React.useState<string | undefined>(\n    props?.initialQuery || undefined\n  );\n\n  const onOpen = React.useCallback(() => {\n    setIsOpen(true);\n  }, [setIsOpen]);\n\n  const onClose = React.useCallback(() => {\n    setIsOpen(false);\n  }, [setIsOpen]);\n\n  const onInput = React.useCallback(\n    (event: KeyboardEvent) => {\n      setIsOpen(true);\n      setInitialQuery(event.key);\n    },\n    [setIsOpen, setInitialQuery]\n  );\n\n  useDocSearchKeyboardEvents({\n    isOpen,\n    onOpen,\n    onClose,\n    onInput,\n    searchButtonRef,\n  });\n\n  return (\n    <>\n      <DocSearchButton\n        ref={searchButtonRef}\n        translations={props?.translations?.button}\n        onClick={onOpen}\n      />\n\n      {isOpen &&\n        createPortal(\n          <DocSearchModal\n            {...props}\n            initialScrollY={window.scrollY}\n            initialQuery={initialQuery}\n            translations={props?.translations?.modal}\n            onClose={onClose}\n          />,\n          document.body\n        )}\n    </>\n  );\n}\n","export const version = '3.0.0';\n"],"names":["ControlKeyIcon","React","createElement","width","height","className","d","strokeWidth","stroke","fill","strokeLinecap","SearchIcon","viewBox","fillRule","strokeLinejoin","ACTION_KEY_DEFAULT","DocSearchButton","forwardRef","ref","_ref$translations","_ref","translations","props","_objectWithoutProperties","_excluded","buttonText","_translations$buttonT","buttonAriaLabel","_translations$buttonA","key","useMemo","navigator","test","platform","_extends","type","Fragment","flatten","values","reduce","a","b","concat","autocompleteId","getItemsCount","state","collections","length","sum","collection","items","noop","userAgents","segment","version","createInternalCancelablePromise","promise","initialState","then","onfulfilled","onrejected","createCallback","catch","finally","onfinally","onCancelList","push","cancel","isCanceled","callbacks","forEach","callback","cancelable","onResult","fallback","arg","getNextActiveItemId","moveAmount","baseIndex","itemCount","defaultActiveItemId","numericIndex","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_defineProperty","obj","value","defineProperty","configurable","writable","getNormalizedSources","getSources","params","seenSourceIds","Promise","resolve","sources","all","maybeSource","Boolean","map","source","sourceId","includes","Error","JSON","stringify","normalizedSource","target","i","arguments","getOwnPropertyDescriptors","defineProperties","_objectSpread","getItemInputValue","query","getItemUrl","onSelect","_ref2","setIsOpen","onActive","getActiveItem","collectionIndex","acc","collectionsCount","index","nextValue","current","activeItemId","getCollectionFromActiveItemId","item","isOffsetFound","counter","previousItemsOffset","currentCollection","getRelativeActiveItemId","itemInputValue","itemUrl","regex","createStore","reducer","onStoreStateChange","list","getState","dispatch","action","payload","prevState","pendingRequests","add","cancelablePromise","cancelAll","isEmpty","_toConsumableArray","arr","Array","isArray","_arrayLikeToArray","_arrayWithoutHoles","iter","Symbol","iterator","from","_iterableToArray","o","minLen","n","prototype","toString","call","slice","constructor","name","_unsupportedIterableToArray","TypeError","_nonIterableSpread","len","arr2","isDescription","execute","preResolve","itemsOrDescription","description","requests","queries","transformResponse","searchClient","requesterId","container","find","_container$items","request","maybeDescription","responses","postResolve","matches","response","results","transform","rawResults","result","_hits","hits","hit","__autocomplete_indexName","__autocomplete_queryID","queryID","facetHits","_facetHits","facetHit","label","count","_highlightResult","highlighted","mapToAlgoliaResponse","every","undefined","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","basePromiseId","latestResolvedId","latestResolvedValue","lastStalledId","runConcurrentSafePromise","currentPromiseId","x","onInput","event","_ref$nextState","nextState","refresh","store","setters","environment","clearTimeout","setCollections","setQuery","setActiveItemId","setStatus","openOnFocus","_nextState$isOpen","isOpen","shouldPanelOpen","_request","setTimeout","stallThreshold","getItems","sourcesBySourceId","reshape","_nextState$isOpen2","isPanelOpen","highlightedItem","_excluded2","_excluded3","_excluded4","_excluded5","getPropGetters","getEnvironmentProps","providedProps","inputElement","formElement","panelElement","onTouchStart","some","contextNode","parent","child","contains","debug","onTouchMove","document","activeElement","blur","getRootProps","rest","role","id","getFormProps","noValidate","onSubmit","_providedProps$inputE","preventDefault","onReset","_providedProps$inputE2","focus","getLabelProps","htmlFor","getInputProps","_props$environment$na","onFocus","completion","isTouchDevice","_ref2$maxLength","maxLength","activeItem","shouldFallbackKeyHint","userAgent","match","isSamsung","enterKeyHint","autoComplete","autoCorrect","autoCapitalize","spellCheck","autoFocus","placeholder","onChange","currentTarget","onKeyDown","triggerScrollIntoView","nodeItem","getElementById","scrollIntoViewIfNeeded","scrollIntoView","triggerOnActive","nextActiveItemId","metaKey","ctrlKey","navigateNewTab","shiftKey","navigateNewWindow","altKey","navigate","_onKeyDown","onBlur","onClick","getPanelProps","onMouseDown","onMouseLeave","getListProps","getItemProps","__autocomplete_id","onMouseMove","_item","_source","getMetadata","_","_options$__autocomple","_options$__autocomple2","_options$__autocomple3","plugins","options","optionsKey","__autocomplete_metadata","extraOptions","plugin","__autocomplete_pluginOptions","ua","getCompletion","_getActiveItem","stateReducer","status","context","hasOwnProperty","_nextState","createAutocomplete","subscribers","pluginSubscribers","_props$id","window","onStateChange","_props$onStateChange","_x$onStateChange","_props$onSubmit","_x$onSubmit","_props$onReset","_x$onReset","nested","_x$onSelect","_x$onActive","_ref3","location","assign","_ref4","windowReference","open","_ref5","getDefaultProps","rawValue","baseItemId","setContext","getAutocompleteSetters","propGetters","Event","_plugin$subscribe","subscribe","fn","_environment$navigato","metadata","metadataContainer","headRef","querySelector","content","appendChild","injectMetadata","CommandIcon","ariaLabel","children","Footer","selectText","_translations$selectT","selectKeyAriaLabel","_translations$selectK","navigateText","_translations$navigat","navigateUpKeyAriaLabel","_translations$navigat2","navigateDownKeyAriaLabel","_translations$navigat3","closeText","_translations$closeTe","closeKeyAriaLabel","_translations$closeKe","Hit","href","url","LoadingIcon","strokeOpacity","cx","cy","r","attributeName","to","dur","repeatCount","RecentIcon","ResetIcon","SelectIcon","LvlIcon","SourceIcon","ContentIcon","AnchorIcon","StarIcon","ErrorIcon","NoResultsIcon","ErrorScreen","titleText","_translations$titleTe","helpText","_translations$helpTex","NoResultsScreen","noResultsText","_translations$noResul","suggestedQueryText","_translations$suggest","reportMissingResultsText","_translations$reportM","reportMissingResultsLinkText","_translations$reportM2","searchSuggestions","search","toLowerCase","inputRef","getMissingResultsUrl","rel","getPropertyByPath","path","parts","split","prev","Snippet","attribute","_ref$tagName","tagName","dangerouslySetInnerHTML","__html","Results","title","Result","objectID","join","renderIcon","renderAction","onItemClick","hitComponent","_React$useState2","_slicedToArray","useState","isDeleting","setIsDeleting","_React$useState4","isFavoriting","setIsFavoriting","useRef","__docsearch_parent","onTransitionEnd","hierarchy","runDeleteTransition","cb","runFavoriteTransition","identity","regexHighlightTags","regexHasHighlightTags","RegExp","ResultsScreen","_internalDocSearchHit","_internalDocSearchHit2","_internalDocSearchHit3","_hit$_highlightResult","_hit$_highlightResult2","internalDocSearchHit","lvl0","replace","removeHighlightTags","_collection$items","resultsFooterComponent","StartScreen","recentSearchesTitle","_translations$recentS","noRecentSearchesText","_translations$noRecen","saveRecentSearchButtonTitle","_translations$saveRec","removeRecentSearchButtonTitle","_translations$removeR","favoriteSearchesTitle","_translations$favorit","removeFavoriteSearchButtonTitle","_translations$removeF","hasCollections","disableUserPersonalization","stopPropagation","favoriteSearches","recentSearches","remove","ScreenState","memo","errorScreen","noResultsScreen","startScreen","_prevProps","nextProps","SearchBox","resetButtonTitle","_translations$resetBu","resetButtonAriaLabel","_translations$resetBu2","cancelButtonText","_translations$cancelB","cancelButtonAriaLabel","_translations$cancelB2","useEffect","isFromSelection","select","hidden","onClose","createStorage","isLocalStorageSupported","localStorage","setItem","removeItem","error","getItem","parse","createStoredSearches","_ref$limit","limit","storage","_snippetResult","isQueryAlreadySaved","findIndex","splice","unshift","getAll","DocSearchModal","indexName","_ref$placeholder","searchParameters","_ref$onClose","_ref$transformItems","transformItems","_ref$hitComponent","_ref$resultsFooterCom","_ref$initialScrollY","initialScrollY","_ref$disableUserPerso","_ref$initialQuery","initialQuery","initialQueryFromProp","footerTranslations","footer","searchBoxTranslations","searchBox","screenStateTranslations","setState","containerRef","modalRef","formElementRef","dropdownRef","snippetLength","initialQueryFromSelection","getSelection","saveRecentSearch","useCallback","autocomplete","regeneratorRuntime","mark","_callee","wrap","_context","next","abrupt","_ref6","sent","_ref7","_ref8","stop","_getSources","_x","this","_getEnvironmentProps","addEventListener","removeEventListener","useTouchEvents","focusableElements","querySelectorAll","firstElement","lastElement","trapFocus","useTrapFocus","body","classList","_window$scrollTo","_window","scrollTo","matchMedia","scrollTop","setFullViewportHeight","vh","innerHeight","style","setProperty","tabIndex","useDocSearchKeyboardEvents","onOpen","searchButtonRef","keyCode","element","isContentEditable","isEditingContent","String","fromCharCode","_props$translations","_props$translations2","setInitialQuery","button","createPortal","scrollY","modal"],"mappings":"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"}